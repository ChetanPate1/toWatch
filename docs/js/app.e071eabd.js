(function(t){function e(e){for(var n,o,i=e[0],c=e[1],u=e[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0259":function(t,e,a){},"044f":function(t,e,a){},"0d17":function(t,e,a){"use strict";a("3488")},"0f16":function(t,e,a){"use strict";a("d796")},1062:function(t,e,a){"use strict";a("c816")},1270:function(t,e,a){},2151:function(t,e,a){"use strict";a("044f")},2253:function(t,e,a){},2418:function(t,e,a){},"24f3":function(t,e,a){},"267c":function(t,e,a){"use strict";a("4285")},"2c29":function(t,e,a){"use strict";a("70ac")},3488:function(t,e,a){},"3bae":function(t,e,a){},"3f43":function(t,e,a){},"40ac":function(t,e,a){"use strict";a("f5ee")},"41ad":function(t,e,a){},4285:function(t,e,a){},4869:function(t,e,a){"use strict";a("aaed")},"4c22":function(t,e,a){},"4ec7":function(t,e,a){},"521e":function(t,e,a){"use strict";a("bd28")},"550e":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("a026"),r=a("a44f"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("toasts"),a("navigation-bar"),a("router-view")],1)},o=[],i=a("5530"),c=a("1da1"),u=(a("96cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.token?a("a",{staticClass:"logout-button",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.logout.apply(null,arguments)}}},[t._v("SIGNOUT")]):t._e(),a("nav",{staticClass:"navigation-bar",class:{open:t.open}},[a("div",{staticClass:"container"},[t._m(0),t.token?t._e():a("ul",{staticClass:"links margin-top-xs-40",on:{click:function(e){t.open=!1}}},[a("router-link",{attrs:{to:{name:"mostPopular"},tag:"li"}},[a("a",[a("span",{staticClass:"dripicons-star"}),t._v(" MOST POPULAR ")])])],1),t.token?a("ul",{staticClass:"links margin-top-xs-40",on:{click:function(e){t.open=!1}}},[a("router-link",{attrs:{to:{name:"movieCollection"},tag:"li"}},[a("a",[a("span",{staticClass:"dripicons-camcorder"}),t._v(" MOVIE COLLECTION ")])]),a("router-link",{attrs:{to:{name:"watchedShows"},tag:"li"}},[a("a",[a("span",{staticClass:"dripicons-preview"}),t._v(" WATCHED SHOWS ")])]),a("router-link",{attrs:{to:{name:"watching"},tag:"li"}},[a("a",[a("span",{staticClass:"dripicons-monitor"}),t._v(" WATCHING ")])])],1):t._e()]),t.token?t._e():a("ul",{staticClass:"links auth"},[a("router-link",{attrs:{to:{name:"login"},tag:"li"}},[a("a",[t._v("SIGNIN")])])],1)]),a("button",{staticClass:"navigation-button",attrs:{type:"button",name:"button"},on:{click:t.toggleOpen}},[a("span",{staticClass:"dripicons-menu"})]),a("div",{staticClass:"navigation-underlay",class:{open:t.open},on:{click:t.toggleOpen}})])}),l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"brand"},[a("strong",[t._v("toWatch")])])}],d=a("2f62"),p={name:"NavigationBar",data:function(){return{open:!1,dropdown:!1}},computed:Object(i["a"])({},Object(d["c"])({token:function(t){var e=t.storage;return e.token},user:function(t){var e=t.storage;return e.user}})),methods:{toggleOpen:function(){this.open=!this.open},logout:function(){this.$store.dispatch("auth/signUserOut"),this.open=!1}}},m=p,h=(a("d741"),a("2877")),g=Object(h["a"])(m,u,l,!1,null,null,null),f=g.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toasts"},[a("transition-group",{attrs:{name:"toast-list"}},t._l(t.toasts,(function(t){return a("toast-item",{key:t.timestamp,attrs:{title:t.title,message:t.message,timestamp:t.timestamp}})})),1)],1)},w=[],b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toast-item",on:{click:function(e){return e.preventDefault(),t.dismiss.apply(null,arguments)}}},[a("h5",[t._v(t._s(t.title))]),a("p",[t._v(t._s(t.message))])])},_=[],O=(a("a9e3"),{name:"ToastItem",props:{title:String,message:String,timestamp:Number},methods:{dismiss:function(){this.$store.dispatch("toastDismiss",this.timestamp)}}}),x=O,C=(a("8b5b"),Object(h["a"])(x,b,_,!1,null,null,null)),S=C.exports,k={name:"Toasts",computed:Object(i["a"])({},Object(d["c"])({toasts:function(t){var e=t.toast;return e.toasts}})),components:{ToastItem:S}},T=k,E=(a("c560"),Object(h["a"])(T,v,w,!1,null,null,null)),P=E.exports,j={name:"app",mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("storage/initialiseStore");case 2:case"end":return e.stop()}}),e)})))()},computed:Object(i["a"])({},Object(d["b"])(["toasts"])),components:{NavigationBar:f,Toasts:P}},R=j,y=(a("1062"),Object(h["a"])(R,s,o,!1,null,null,null)),I=y.exports,$=(a("d3b7"),a("b0c0"),a("8c4f")),M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid fade-in"},[a("div",{staticClass:"row show-layout"},t._l(t.limit(t.shows,18),(function(t){return a("div",{key:t.id,staticClass:"col-xs-6 col-sm-3 col-md-2"},[a("show-card",{attrs:{heading:t.name,"img-src":t.image_thumbnail_path,deleteable:!1}})],1)})),0)])},A=[],N=(a("fb6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"show-card",class:{deleteable:t.deleteable},style:{"background-image":"url("+t.imgSrc+")"},attrs:{tabindex:"0"}},[a("button",{staticClass:"icon-button red dripicons-trash",attrs:{tabindex:"0"},on:{click:function(e){return e.stopPropagation(),t.confirmDelete()}}}),a("button",{staticClass:"icon-button dripicons-plus",attrs:{tabindex:"0"},on:{click:function(e){return e.stopPropagation(),t.onAddToWatchlist()}}}),a("button",{staticClass:"icon-button dripicons-clockwise",attrs:{tabindex:"0"},on:{click:function(e){return e.stopPropagation(),t.update()}}}),a("h2",[t._v(t._s(t.heading))])])}),D=[],W={name:"ShowCard",data:function(){return{deleteOpen:!1,deleteFromWatched:!1}},props:{heading:String,imgSrc:String,id:String,showId:String,data:Object,deleteable:Boolean},methods:{update:function(){this.$store.dispatch("shows/updateShow",{showId:this.showId,imdbId:this.data.imdbId})},onAddToWatchlist:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$parent.$refs.addToWatchlist.form={showId:t.showId,episode:"",season:""},e.next=3,t.$store.dispatch("lookups/getSeasons",t.showId);case 3:t.$parent.$refs.popup.open();case 4:case"end":return e.stop()}}),e)})))()}}},G=W,L=(a("f82b"),Object(h["a"])(G,N,D,!1,null,null,null)),q=L.exports,U={name:"MostPopular",computed:Object(i["a"])({},Object(d["c"])({shows:function(t){var e=t.mostPopular;return e.shows}})),mounted:function(){this.$store.dispatch("mostPopular/getMostPopularShows")},methods:{limit:function(t,e){return t.slice(0,e)}},components:{ShowCard:q}},B=U,H=Object(h["a"])(B,M,A,!1,null,null,null),F=H.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"col-md-offset-4 col-md-4"},[a("card",[a("h2",[t._v("Sign in")]),a("form",{attrs:{name:"signinForm",novalidate:""}},[a("div",{staticClass:"form-element dark"},[a("label",{attrs:{for:"email"}},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],attrs:{name:"email",type:"email",required:""},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),a("div",{staticClass:"form-element dark"},[a("label",{attrs:{for:"password"}},[t._v("Password")]),a("button",{staticClass:"forgot-password",attrs:{type:"button"},on:{click:function(e){return t.$router.push({name:"forgotPassword"})}}},[t._v("Forgotten your password?")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],attrs:{name:"password",type:"password",required:""},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),a("div",{staticClass:"row margin-top-50"},[a("div",{staticClass:"col-xs-12 text-right"},[a("uiv-btn",{attrs:{type:"primary"},on:{click:t.onLogin}},[t._v("Sign in")])],1)])])])],1)])},z=[],Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[t._t("default")],2)},K=[],J={name:"Card"},Q=J,X=(a("570c"),Object(h["a"])(Q,Y,K,!1,null,null,null)),Z=X.exports,tt={name:"Login",data:function(){return{form:{email:"",password:""}}},computed:Object(i["a"])({},Object(d["c"])({token:function(t){var e=t.storage;return e.token}})),mounted:function(){var t=this.$route.params.token;t&&this.$store.dispatch("auth/verifyEmail",t)},methods:{onLogin:function(){this.$store.dispatch("auth/signUserIn",this.form)}},components:{Card:Z}},et=tt,at=(a("40ac"),Object(h["a"])(et,V,z,!1,null,"f3496ce8",null)),nt=at.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"col-md-offset-4 col-md-4"},[a("card",[a("h2",[t._v("Register")]),a("form",{attrs:{name:"signinForm",novalidate:""}},[a("div",{staticClass:"form-element dark"},[a("label",{attrs:{for:"email"}},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],attrs:{name:"email",type:"email",required:""},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),a("div",{staticClass:"form-element dark"},[a("label",{attrs:{for:"password"}},[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],attrs:{name:"password",type:"password",required:""},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),a("div",{staticClass:"row margin-top-50"},[a("div",{staticClass:"col-xs-12 text-right"},[a("uiv-btn",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Register")])],1)])])])],1)])},st=[],ot={name:"Register",data:function(){return{form:{email:"",password:""}}},methods:{onSubmit:function(){this.$store.dispatch("auth/register",this.form)}},components:{Card:Z}},it=ot,ct=(a("521e"),Object(h["a"])(it,rt,st,!1,null,"a8bb5eb4",null)),ut=(ct.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"col-md-offset-4 col-md-4"},[a("card",[a("h2",[t._v("Forgot Password")]),a("form",{attrs:{name:"form",novalidate:""}},[a("div",{staticClass:"form-element dark"},[a("label",{attrs:{for:"email"}},[t._v("Your Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],attrs:{name:"email",type:"email",required:""},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),a("div",{staticClass:"row margin-top-30"},[a("div",{staticClass:"col-xs-12 text-right"},[a("uiv-btn",{attrs:{type:"primary",disabled:t.loader},on:{click:t.onSubmit}},[t._v("Reset Password")])],1)])])])],1)])}),lt=[],dt={name:"ForgotPassword",data:function(){return{loader:!1,form:{email:""}}},methods:{onSubmit:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loader=!0,e.next=3,t.$store.dispatch("auth/forgotPassword",t.form);case 3:case"end":return e.stop()}}),e)})))()}},components:{Card:Z}},pt=dt,mt=(a("7999"),Object(h["a"])(pt,ut,lt,!1,null,"3437077e",null)),ht=mt.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"col-md-offset-4 col-md-4"},[a("card",[a("h2",[t._v("Change Password")]),a("form",{attrs:{name:"form",novalidate:""}},[a("div",{staticClass:"form-element dark"},[a("label",{attrs:{for:"password"}},[t._v("New Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.newPassword,expression:"form.newPassword"}],attrs:{name:"password",type:"password",required:""},domProps:{value:t.form.newPassword},on:{input:function(e){e.target.composing||t.$set(t.form,"newPassword",e.target.value)}}})]),a("div",{staticClass:"row margin-top-30"},[a("div",{staticClass:"col-xs-12 text-right"},[a("uiv-btn",{attrs:{type:"primary",disabled:t.loader},on:{click:t.onSubmit}},[t._v("Change Password")])],1)])])])],1)])},ft=[],vt={name:"ChangePassword",data:function(){return{loader:!0,form:{newPassword:""}}},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.params.resetToken,e.next=3,t.$store.dispatch("auth/resetPassword",a);case 3:t.loader=!1;case 4:case"end":return e.stop()}}),e)})))()},methods:{onSubmit:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.params.resetToken,t.loader=!0,e.next=4,t.$store.dispatch("auth/changePassword",{newPassword:t.form.newPassword,token:a});case 4:t.loader=!1;case 5:case"end":return e.stop()}}),e)})))()}},components:{Card:Z}},wt=vt,bt=(a("59db"),Object(h["a"])(wt,gt,ft,!1,null,"6e184744",null)),_t=bt.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("uiv-modal",{ref:"modal",attrs:{title:"Add To Watch List",size:"sm",footer:!1},model:{value:t.addModal,callback:function(e){t.addModal=e},expression:"addModal"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("add-to-watchlist",{ref:"addToWatchlist",attrs:{show:t.selectedShow},on:{done:function(e){t.addModal=!1}}})],1)])]),a("uiv-modal",{ref:"deleteModal",attrs:{title:"Confirm","ok-text":"Yes",size:"sm"},on:{show:function(e){t.deleteModal.showTypeId=t.showTypeList[0].id},hide:t.onDelete},model:{value:t.deleteModal.show,callback:function(e){t.$set(t.deleteModal,"show",e)},expression:"deleteModal.show"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("h4",{staticClass:"margin-top-0 margin-bottom-20"},[t._v(" Are you sure you want to delete this show? ")]),a("div",{staticClass:"margin-bottom-30"},[a("label",[t._v("Place Show In:")]),a("switch-group",{attrs:{id:"showType","value-key":"id",options:t.showTypeList},model:{value:t.deleteModal.showTypeId,callback:function(e){t.$set(t.deleteModal,"showTypeId",e)},expression:"deleteModal.showTypeId"}})],1)])])]),t.watching.length>6?a("pager",{attrs:{"current-page":t.currentPage,"total-pages":t.totalPages}}):t._e(),a("div",{staticClass:"container-fluid fade-in"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 margin-bottom-30"},[a("search-shows",{on:{onSelect:t.onSelect}})],1),t._l(t.watching,(function(e){return a("div",{key:e._id,staticClass:"col-xs-12 col-sm-6 col-md-3"},[a("watchlist-card",{attrs:{heading:e.show.name,id:e._id,data:e,"img-src":e.show.image.original},on:{onDelete:function(e){t.deleteModal.show=!0,t.deleteModal.watchingId=e},onRefresh:t.onRefresh}})],1)}))],2),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12"},[a("loader",{attrs:{show:t.requesting}})],1)]),a("reached-end",{attrs:{show:t.reachedEnd}},[t._v(" Reached End ")]),t.requesting||0!=t.watching.length?t._e():a("no-content",{attrs:{message:"Your watch list is empty!"}})],1)],1)},xt=[],Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"watchlist-card",style:{"background-image":"url("+t.imgSrc+")"},attrs:{tabindex:"0"}},[a("button",{staticClass:"icon-button red dripicons-trash",attrs:{type:"button"},on:{click:function(e){return t.$emit("onDelete",t.id)}}}),a("button",{directives:[{name:"uiv-tooltip",rawName:"v-uiv-tooltip",value:"Refresh",expression:"'Refresh'"}],staticClass:"icon-button dripicons-clockwise",attrs:{type:"button"},on:{click:function(e){return t.$emit("onRefresh",t.data.show._id)}}}),a("h2",[t._v(t._s(t.heading))]),a("h4",[t._v(t._s(t.data.episode?t.data.episode.name:""))]),a("h5",[t._v("On "+t._s(t.data.episode?"Season "+t.data.episode.season.number+" Episode "+t.data.episode.number:""))]),a("behind-count-button",{attrs:{count:t.data.behindCount,open:t.open},on:{click:t.toggleOpen}}),a("slide-out-panel",{attrs:{open:t.open}},[a("tabs",[t._l(t.data.show.seasons,(function(e){return a("tab-button",{key:e._id,attrs:{slot:"tab-buttons",name:t.tabButtonName(e.number),active:t.isTabSelected(e)},on:{click:function(a){return t.tabSelect(e)}},slot:"tab-buttons"})})),a("tab-panels-container",{attrs:{slot:"tab-panels-container",active:t.tabActive},slot:"tab-panels-container"},t._l(t.data.show.seasons,(function(e){return a("tab-panel",{key:e._id,attrs:{active:t.isTabSelected(e),number:e.number}},t._l(e.episodes,(function(e){return a("panel-row",{key:e._id,attrs:{"watching-id":t.id,number:e.number,title:e.name,watched:e.watched,released:e.airdate,tags:e.tags},on:{click:function(a){return t.watched(e)},onOpen:function(a){return t.onGetTags(a,e)},tag:function(a){return t.onTag(a,e)}}})})),1)})),1)],2)],1)],1)])},St=[],kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"slide-out-panel",class:{open:t.open}},[t._t("default")],2)},Tt=[],Et={name:"SlideOutPanel",props:{open:Boolean}},Pt=Et,jt=(a("5e96"),Object(h["a"])(Pt,kt,Tt,!1,null,null,null)),Rt=jt.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tabs"},[t._t("tab-buttons")],2),a("div",{staticClass:"tab-panels"},[t._t("tab-panels-container")],2)])},It=[],$t={name:"Tabs"},Mt=$t,At=(a("267c"),Object(h["a"])(Mt,yt,It,!1,null,null,null)),Nt=At.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"tab-button",class:{active:t.active},attrs:{type:"button",name:"button"},on:{click:function(e){return t.$emit("click")}}},[t._v(t._s(t.name)+" ")])},Wt=[],Gt={name:"TabButton",props:{name:String,active:Boolean}},Lt=Gt,qt=(a("79f7"),Object(h["a"])(Lt,Dt,Wt,!1,null,null,null)),Ut=qt.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-panel",class:{active:t.active},style:{left:t.position(),width:t.panelWidth()}},[t._t("default")],2)},Ht=[],Ft={name:"TabPanel",data:function(){return{width:320}},props:{active:Boolean,number:Number},methods:{position:function(){return"".concat(this.width*this.number,"px")},panelWidth:function(){return"".concat(this.width,"px")}},beforeUpdate:function(){this.width=this.$parent.clientWidth}},Vt=Ft,zt=(a("8d3b"),Object(h["a"])(Vt,Bt,Ht,!1,null,null,null)),Yt=zt.exports,Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"panels_container",staticClass:"tab-panels-container",style:{width:t.panelsWidth,transform:t.moveTo()}},[t._t("default")],2)},Jt=[],Qt={name:"TabPanelsContainer",props:{active:Number},data:function(){return{clientWidth:0,panelsWidth:"100%"}},methods:{tabPanelWidth:function(){var t=this.$refs.panels_container.children.length;return"".concat(this.clientWidth*t,"px")},moveTo:function(){return"translate3d(-".concat(this.clientWidth*this.active,"px, 0, 0)")}},mounted:function(){this.clientWidth=this.$refs.panels_container.clientWidth,this.panelsWidth=this.tabPanelWidth(),this.$emit("TabPanelWidth",this.clientWidth)}},Xt=Qt,Zt=(a("7f25"),Object(h["a"])(Xt,Kt,Jt,!1,null,null,null)),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"panel-row",class:{disabled:!t.watched,open:t.open},attrs:{tabindex:"0"}},[a("div",{staticClass:"row row-1"},[a("div",{staticClass:"col-xs-3 col-1"},[a("span",{staticClass:"aired-by"},[a("i",{staticClass:"dripicons-feed"}),t._v(" "+t._s(t.aired(t.released).by)+" ")])]),a("div",{staticClass:"col-xs-9 col-2"},[a("div",{staticClass:"title"},[a("small",[t._v("Episode "+t._s(t.number)),a("br")]),t._v(" "+t._s(t.title?t.title:"-")+" ")])])]),a("div",{staticClass:"row"},t._l(t.tags,(function(e){return a("div",{key:e.id,staticClass:"col-xs-4"},[a("button",{staticClass:"status",class:{active:e.active},on:{click:function(a){return t.$emit("tag",e)}}},[t._v(" "+t._s(e.label)+" ")])])})),0),a("span",{staticClass:"dripicons-plus",class:{open:t.open},on:{click:t.onOpen}}),a("span",{staticClass:"dripicons-preview",class:{active:t.watched},on:{click:function(e){return t.$emit("click")}}})])])},ae=[],ne={name:"PanelRow",data:function(){return{timeNow:(new Date).getTime(),open:!1}},computed:Object(i["a"])({},Object(d["c"])({episodeTagsList:function(t){var e=t.lookups;return e.episodeTags}})),props:{watchingId:String,number:Number,title:String,watched:Boolean,released:String,tags:Array},methods:{onOpen:function(){this.open=!this.open,this.$emit("onOpen",this.open)},aired:function(t){t=new Date(t).getTime();var e=Math.abs(t-this.timeNow)/1e3,a=t-this.timeNow<0,n={isAired:a};return a?(n.by="- ".concat(Math.ceil(e/86400)," days"),Math.ceil(e/86400)>30&&(n.by="aired")):n.by="not aired",n}}},re=ne,se=(a("94c0"),Object(h["a"])(re,ee,ae,!1,null,null,null)),oe=se.exports,ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"more-button",class:{open:t.open,"up-to-date":!t.count},attrs:{type:"button",name:"more"},on:{click:function(e){return t.$emit("click")}}},[a("span",{staticClass:"dripicons-plus"}),a("span",{staticClass:"behind"},[t._v(t._s(t.count))])])},ce=[],ue={name:"BehindCountButton",props:{open:Boolean,count:Number}},le=ue,de=(a("e67d"),Object(h["a"])(le,ie,ce,!1,null,null,null)),pe=de.exports,me={name:"WatchlistCard",props:{heading:String,id:String,data:Object,imgSrc:String},data:function(){return{open:!1,tabActive:1}},methods:{toggleOpen:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.open=!t.open,a=t.data.episode,!t.open){e.next=5;break}return e.next=5,t.tabSelect(t.data.show.seasons[a.season.number-1]);case 5:case"end":return e.stop()}}),e)})))()},onGetTags:function(t,e){var a=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t){n.next=4;break}return n.next=3,a.$store.dispatch("watching/getEpisodeTags",{watchingId:a.id,episode:e});case 3:a.$forceUpdate();case 4:case"end":return n.stop()}}),n)})))()},onTag:function(t,e){var a=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.$store.dispatch("watching/toggleTag",{watchingId:a.id,tagId:t.id,episode:e});case 2:a.$forceUpdate();case 3:case"end":return n.stop()}}),n)})))()},tabButtonName:function(t){return t<10?"S0".concat(t):"S".concat(t)},tabSelect:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$store.dispatch("watching/getEpisodes",{watchingId:e.id,seasonId:t._id});case 2:e.tabActive=t.number,e.$forceUpdate();case 4:case"end":return a.stop()}}),a)})))()},isTabSelected:function(t){var e=t.number;return this.tabActive==e},watched:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$store.dispatch("watching/toggleWatched",{watchingId:e.id,episode:t});case 2:e.$forceUpdate();case 3:case"end":return a.stop()}}),a)})))()}},components:{SlideOutPanel:Rt,Tabs:Nt,TabButton:Ut,TabPanel:Yt,TabPanelsContainer:te,PanelRow:oe,BehindCountButton:pe}},he=me,ge=(a("2c29"),Object(h["a"])(he,Ct,St,!1,null,null,null)),fe=ge.exports,ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"no-content"},[a("h1",[t._v(t._s(t.message))])])},we=[],be={name:"NoContent",props:{message:String}},_e=be,Oe=(a("5f8e"),Object(h["a"])(_e,ve,we,!1,null,null,null)),xe=Oe.exports,Ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"popup-background",class:{open:t.popupOpen},on:{click:function(e){return t.close("dismiss")}}},[a("div",{staticClass:"popup-content",on:{click:function(t){t.stopPropagation()}}},[a("h4",{staticClass:"popup-title"},[t._v(t._s(t.title))]),a("button",{staticClass:"close-button",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.close("dismiss")}}},[a("span",{staticClass:"dripicons-cross"})]),a("div",{staticClass:"popup-container"},[t._t("default")],2)])])},Se=[],ke={name:"Popup",data:function(){return{popupOpen:!1}},props:{title:String,size:String},methods:{open:function(){var t=this;return this.$emit("open"),this.popupOpen=!0,new Promise((function(e){t.close=function(a){t.popupOpen=!1,t.$emit("close"),e(a)}}))}}},Te=ke,Ee=(a("8160"),Object(h["a"])(Te,Ce,Se,!1,null,null,null)),Pe=Ee.exports,je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.options.length>0?a("div",{staticClass:"switch-group",class:{dark:t.dark}},t._l(t.options,(function(e){return a("div",{key:e.id,staticClass:"switch-group-item",class:{active:e[t.valueKey]==t.model},style:{width:100/t.options.length+"%"}},[a("label",{attrs:{for:e.label}},[a("input",{attrs:{type:"radio",id:e.label,name:e.label},domProps:{value:e[t.valueKey],checked:e[t.valueKey]==t.model},on:{input:function(a){t.$emit("input",e[t.valueKey]),t.model=e[t.valueKey]}}}),t._v(" "+t._s(e.label)+" ")])])})),0):t._e()},Re=[],ye={name:"SwitchGroup",props:{dark:Boolean,value:String,options:Array,labelKey:{type:String,default:"label"},valueKey:{type:String,default:"label"}},data:function(){return{model:this.value}},create:function(){this.model=this.value},watch:{value:function(t){this.model=t}}},Ie=ye,$e=(a("b311"),Object(h["a"])(Ie,je,Re,!1,null,null,null)),Me=$e.exports,Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{on:{submit:function(e){return e.preventDefault(),t.findShow.apply(null,arguments)}}},[a("div",{staticClass:"form-element search dark"},[t.showsFound.length>0?a("button",{staticClass:"dripicons-cross",attrs:{type:"button"},on:{click:t.empty}}):t._e(),a("loader",{attrs:{show:t.requesting}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.showName,expression:"form.showName"}],staticClass:"show-search",attrs:{type:"text",name:"showName",placeholder:"Track a show"},domProps:{value:t.form.showName},on:{input:function(e){e.target.composing||t.$set(t.form,"showName",e.target.value)}}}),a("button",{staticClass:"dripicons-search",attrs:{type:"submit",disabled:t.requesting}}),a("div",{staticClass:"search-results",class:{show:t.showsFound}},t._l(t.showsFound,(function(e){return a("search-result-item",{key:e.id,attrs:{poster:e.image.medium,title:e.name,year:e.premiered,disabled:t.requesting},on:{click:function(a){return t.addSeries(e)}}})})),1)],1)])},Ne=[],De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-result-item"},[a("div",{staticClass:"item img"},[a("div",{staticClass:"image",style:{"background-image":"url("+t.poster+")"}})]),a("div",{staticClass:"item name"},[a("h4",{staticClass:"margin-top-0 margin-bottom-0"},[t._v(t._s(t.title))]),a("small",[t._v(t._s(t.year))]),t.plot?a("p",{staticClass:"margin-top-10 margin-bottom-0"},[t._v(t._s(t.plot))]):t._e(),a("div",{staticClass:"margin-top-10 text-right"},[a("uiv-btn",{attrs:{type:"primary",disabled:t.disabled},on:{click:function(e){return t.$emit("click")}}},[t._v("Add to Collection ")])],1)])])},We=[],Ge={name:"SearchResultItem",props:{poster:String,title:String,plot:String,year:String,disabled:Boolean}},Le=Ge,qe=(a("4869"),Object(h["a"])(Le,De,We,!1,null,null,null)),Ue=qe.exports,Be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"loader"},[t._v("Loading...")]):t._e()},He=[],Fe={name:"Loader",props:{show:{type:Boolean,default:!1}}},Ve=Fe,ze=(a("cd03"),Object(h["a"])(Ve,Be,He,!1,null,null,null)),Ye=ze.exports,Ke={name:"SearchShows",data:function(){return{form:{showName:""},requesting:!1}},computed:Object(i["a"])({},Object(d["c"])({showsFound:function(t){var e=t.shows;return e.showsFound}})),methods:{findShow:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.requesting=!0,e.next=3,t.$store.dispatch("shows/showsGet",t.form.showName);case 3:t.requesting=!1;case 4:case"end":return e.stop()}}),e)})))()},addSeries:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.requesting=!0,a.next=3,e.$store.dispatch("shows/save",t);case 3:n=a.sent,e.$emit("onSelect",n),e.requesting=!1,e.empty();case 7:case"end":return a.stop()}}),a)})))()},empty:function(){this.form.showName="",this.$store.dispatch("shows/reset")}},components:{SearchResultItem:Ue,Loader:Ye}},Je=Ke,Qe=(a("0d17"),Object(h["a"])(Je,Ae,Ne,!1,null,null,null)),Xe=Qe.exports,Ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{name:"form"}},[a("div",{staticClass:"form-element"},[a("label",{attrs:{for:"series"}},[t._v("Series Name")]),t._v(" "+t._s(t.show.name)+" ")]),t.show._id?a("div",{staticClass:"form-element"},[a("label",{attrs:{for:"seasons"}},[t._v("Seasons")]),a("div",{staticClass:"select-series"},t._l(t.show.seasons,(function(e){return a("div",{key:e._id,staticClass:"col-xs-3"},[a("label",{staticClass:"radio",class:{selected:t.form.seasonId==e._id}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.seasonId,expression:"form.seasonId"}],attrs:{type:"radio"},domProps:{value:e._id,checked:t._q(t.form.seasonId,e._id)},on:{change:function(a){return t.$set(t.form,"seasonId",e._id)}}}),t._v(t._s(e.number)+" ")])])})),0)]):t._e(),t.form.seasonId?a("div",{staticClass:"form-element"},[a("label",{attrs:{for:"seasons"}},[t._v("Episodes")]),a("div",{staticClass:"select-series"},[t._l(t.findEpisodes(t.form.seasonId),(function(e){return a("div",{key:e._id,staticClass:"col-xs-3"},[a("label",{staticClass:"radio",class:{selected:t.form.episodeId==e._id}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.episodeId,expression:"form.episodeId"}],attrs:{type:"radio"},domProps:{value:e._id,checked:t._q(t.form.episodeId,e._id)},on:{change:function(a){return t.$set(t.form,"episodeId",e._id)}}}),t._v(t._s(e.number)+" ")])])})),a("span",{staticClass:"selected-none",class:{selected:!t.form.seasonId}},[t._v("Select a episode")])],2)]):t._e(),a("div",{staticClass:"text-right"},[a("uiv-btn",{attrs:{type:"primary",disabled:!t.form.seasonId||!t.form.episodeId},on:{click:function(e){return t.add(t.form)}}},[t._v("Add ")])],1)])},ta=[],ea=(a("7db0"),{name:"AddToWatchlist",data:function(){return{form:{seasonId:"",episodeId:""},today:(new Date).getTime()}},props:{show:Object},methods:{add:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("watching/addToWatching",{episodeId:t.form.episodeId,showId:t.show._id});case 2:t.form={seasonId:"",episodeId:""},t.$emit("done");case 4:case"end":return e.stop()}}),e)})))()},findEpisodes:function(t){var e=this.show.seasons.find((function(e){return e._id===t}));return e?e.episodes:[]}}}),aa=ea,na=Object(h["a"])(aa,Ze,ta,!1,null,null,null),ra=na.exports,sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pager"},[t._v(" "+t._s(t.currentPage)+"/"+t._s(t.totalPages)+" ")])},oa=[],ia={name:"Pager",props:{currentPage:{type:Number,default:1},totalPages:{type:Number,default:2}}},ca=ia,ua=(a("c707"),Object(h["a"])(ca,sa,oa,!1,null,null,null)),la=ua.exports,da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"reached-end"},[t._t("default")],2):t._e()},pa=[],ma={name:"ReachedEnd",props:{show:{type:Boolean,default:!1}}},ha=ma,ga=(a("6794"),Object(h["a"])(ha,da,pa,!1,null,null,null)),fa=ga.exports,va={name:"Watching",data:function(){return{addModal:!1,deleteModal:{show:!1,watchingId:null,showTypeId:null},selectedShow:{title:""}}},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("lookups/getEpisodeTags");case 2:return e.next=4,t.$store.dispatch("lookups/getShowTypes");case 4:return e.next=6,t.$store.dispatch("watching/getWatching",{currentPage:1});case 6:t.initScroll();case 7:case"end":return e.stop()}}),e)})))()},computed:Object(i["a"])({},Object(d["c"])({watching:function(t){var e=t.watching;return e.watching},episodeTagsList:function(t){var e=t.lookups;return e.episodeTags},showTypeList:function(t){var e=t.lookups;return e.showTypes},currentPage:function(t){var e=t.watching;return e.currentPage},totalPages:function(t){var e=t.watching;return e.totalPages},reachedEnd:function(t){var e=t.watching,a=e.pageSize,n=e.currentPage,r=e.totalPages;return!(e.watching.length<a)&&r==n},requesting:function(t){var e=t.watching;return e.requesting}})),methods:{onSelect:function(t){this.selectedShow=t,this.addModal=!0},onDelete:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("ok"!=t){a.next=6;break}return n=e.deleteModal,r=n.watchingId,s=n.showTypeId,a.next=4,e.$store.dispatch("watching/deleteWatching",{id:r,showTypeId:s});case 4:return a.next=6,e.$store.dispatch("watching/getWatching",{currentPage:1});case 6:case"end":return a.stop()}}),a)})))()},onRefresh:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$store.dispatch("shows/updateShow",t);case 2:e.$store.dispatch("watching/getWatching",{currentPage:e.currentPage});case 3:case"end":return a.stop()}}),a)})))()},initScroll:function(){var t=this;window.onscroll=function(){var e=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;e&&t.$store.dispatch("watching/getWatching",{currentPage:t.currentPage+1})}}},components:{WatchlistCard:fe,NoContent:xe,Popup:Pe,SwitchGroup:Me,SearchShows:Xe,AddToWatchlist:ra,Loader:Ye,Pager:la,ReachedEnd:fa}},wa=va,ba=Object(h["a"])(wa,Ot,xt,!1,null,null,null),_a=ba.exports,Oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("uiv-modal",{ref:"deleteModal",attrs:{title:"Confirm","ok-text":"Yes",size:"sm"},on:{hide:t.onDelete},model:{value:t.deleteModal.show,callback:function(e){t.$set(t.deleteModal,"show",e)},expression:"deleteModal.show"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("h4",{staticClass:"margin-top-0 margin-bottom-20"},[t._v(" Are you sure you want to delete this watched show? ")])])])]),a("uiv-modal",{ref:"tagsModal",attrs:{title:"Tags",footer:!1,size:"sm"},model:{value:t.tagsModal.show,callback:function(e){t.$set(t.tagsModal,"show",e)},expression:"tagsModal.show"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("ul",{staticClass:"list-group"},t._l(t.tagsModal.data,(function(e,n){return a("li",{key:n,staticClass:"list-group-item"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-4"},[t._v(" "+t._s(e.y)+" ")]),a("div",{staticClass:"col-xs-8 text-right"},[t._v(" "+t._s(e.x)+" ")])])])})),0)])])]),t.watchedShows.length>15?a("pager",{attrs:{"current-page":t.currentPage,"total-pages":t.totalPages}}):t._e(),a("div",{staticClass:"container fade-in"},[a("div",{staticClass:"row margin-bottom-20"},[a("div",{staticClass:"col-sm-5 col-md-4"},[a("switch-group",{attrs:{dark:"",options:t.showTypeList},on:{input:t.onChangeTab},model:{value:t.filter.sort,callback:function(e){t.$set(t.filter,"sort",e)},expression:"filter.sort"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 text-right margin-bottom-20"},[a("button",{staticClass:"btn btn-xs btn-ghost",attrs:{type:"button",disabled:t.refreshing},on:{click:t.onRefresh}},[a("loader",{attrs:{show:t.refreshing}}),t._v(" "+t._s(t.refreshing?"":"Refresh")+" ")],1)]),t._l(t.watchedShows,(function(e){return a("div",{key:e._id,staticClass:"col-sm-6 col-md-4"},[a("watched-show-card",{attrs:{data:e},on:{onDelete:function(e){t.deleteModal.show=!0,t.deleteModal.showId=e},onClick:t.onTags}})],1)}))],2),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12"},[a("loader",{attrs:{show:t.requesting}})],1)]),a("reached-end",{attrs:{show:t.reachedEnd}},[t._v(" Reached End ")]),t.requesting||0!=t.watchedShows.length?t._e():a("no-content",{attrs:{message:"You haven't watched any shows yet!"}})],1)],1)},xa=[],Ca=(a("4de4"),a("d81d"),a("99af"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{on:{click:function(e){return e.stopPropagation(),t.$emit("onClick",t.data)}}},[a("card",{staticClass:"watched-show-card margin-bottom-20",attrs:{tabindex:"0"}},[a("div",{directives:[{name:"uiv-tooltip",rawName:"v-uiv-tooltip",value:"Show "+t.data.status,expression:"`Show ${data.status}`"}],staticClass:"status-dot",class:{ended:"Ended"==t.data.status,running:"Running"==t.data.status||"To Be Determined"==t.data.status}}),a("div",{staticClass:"content"},[a("div",{staticClass:"bar"},[a("progress-bar",{directives:[{name:"uiv-tooltip",rawName:"v-uiv-tooltip",value:"Progress",expression:"'Progress'"}],attrs:{percentage:t.data.percentage,tags:t.data.tagPositions}})],1),a("div",{staticClass:"text-ellipsis"},[a("h3",{staticClass:"margin-bottom-0 text-ellipsis"},[t._v(t._s(t.data.name))]),t._v(" "+t._s(t.data.on.name)+" ")]),a("div",{staticClass:"margin-top-10"},[a("small",[a("span",{staticClass:"visible-sm"},[t._v(t._s(t.onEpisode(t.data.on,!0)))]),a("span",{staticClass:"hidden-sm"},[t._v(t._s(t.onEpisode(t.data.on)))])])])]),100==t.data.percentage?a("span",{staticClass:"status green"},[t._v(" "+t._s("Running"==t.data.status?"Up To Date":"Complete")+" ")]):t._e(),a("button",{directives:[{name:"uiv-tooltip",rawName:"v-uiv-tooltip",value:"Delete",expression:"'Delete'"}],staticClass:"icon-button red dripicons-trash",attrs:{tabindex:"0"},on:{click:function(e){return e.stopPropagation(),t.$emit("onDelete",t.data.showId)}}}),a("button",{directives:[{name:"uiv-tooltip",rawName:"v-uiv-tooltip",value:"Rewatch",expression:"'Rewatch'"}],staticClass:"icon-button dripicons-clockwise",class:{count:t.data.watchedCount>0},attrs:{tabindex:"0"},on:{click:function(e){return e.stopPropagation(),t.onRewatching()}}},[a("div",{directives:[{name:"uiv-tooltip",rawName:"v-uiv-tooltip",value:"Rewatch Count",expression:"'Rewatch Count'"}],staticClass:"watched-count"},[t._v(t._s(t.data.watchedCount))])]),a("button",{directives:[{name:"uiv-tooltip",rawName:"v-uiv-tooltip",value:"Continue",expression:"'Continue'"}],staticClass:"icon-button dripicons-media-play",attrs:{tabindex:"0",disabled:100==t.data.percentage},on:{click:function(e){return e.stopPropagation(),t.onContinue()}}}),a("div",{staticClass:"poster",style:{"background-image":"url("+t.data.poster+")"}})])],1)}),Sa=[],ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"progress-bar-container"},[a("div",{staticClass:"progress",style:{width:t.percentage+"%"}}),t._l(t.tags,(function(t,e){return a("span",{directives:[{name:"uiv-tooltip",rawName:"v-uiv-tooltip",value:"Tags",expression:"'Tags'"}],key:e,staticClass:"spot",style:{left:t+"%"}})}))],2)},Ta=[],Ea={name:"ProgressBar",props:{percentage:{type:Number,default:0},tags:{type:Array,default:function(){return[]}}}},Pa=Ea,ja=(a("0f16"),Object(h["a"])(Pa,ka,Ta,!1,null,null,null)),Ra=ja.exports,ya={name:"WatchedShowCard",props:{data:Object},methods:{onContinue:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("watchedShows/continueWatching",t.data);case 2:a=e.sent,a&&t.$router.push({name:"watching"});case 4:case"end":return e.stop()}}),e)})))()},onRewatching:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("watchedShows/rewatching",t.data);case 2:a=e.sent,a&&t.$router.push({name:"watching"});case 4:case"end":return e.stop()}}),e)})))()},onUpdate:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("shows/updateShow",t.data.showId);case 2:case"end":return e.stop()}}),e)})))()},onEpisode:function(t,e){return e?"S".concat(t.season<9?0:"").concat(t.season," E").concat(t.episode<9?0:"").concat(t.episode):"Season ".concat(t.season," Episode ").concat(t.episode)}},components:{Card:Z,ProgressBar:Ra}},Ia=ya,$a=(a("ed2f"),Object(h["a"])(Ia,Ca,Sa,!1,null,null,null)),Ma=$a.exports,Aa={name:"Watched",data:function(){return{deleteModal:{show:!1,showId:null},tagsModal:{show:!1,data:[]},refreshing:!1}},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("watchedShows/getWatchedShows",{currentPage:1}),e.next=3,t.$store.dispatch("lookups/getEpisodeTags");case 3:return e.next=5,t.$store.dispatch("lookups/getShowTypes");case 5:t.initScroll();case 6:case"end":return e.stop()}}),e)})))()},computed:Object(i["a"])({},Object(d["c"])({watchedShows:function(t){var e=t.watchedShows;return e.watchedShows},currentPage:function(t){var e=t.watchedShows;return e.currentPage},totalPages:function(t){var e=t.watchedShows;return e.totalPages},showTypeList:function(t){var e=t.lookups;return e.showTypes},episodeTagsList:function(t){var e=t.lookups;return e.episodeTags},showEpisodesTags:function(t){var e=t.shows;return e.showEpisodesTags},filter:function(t){var e=t.watchedShows;return e.filter},reachedEnd:function(t){var e=t.watchedShows,a=e.pageSize,n=e.currentPage,r=e.totalPages;return!(e.watchedShows.length<a)&&r==n},requesting:function(t){var e=t.watchedShows;return e.requesting}})),methods:{onChangeTab:function(){this.$store.dispatch("watchedShows/getWatchedShows",{currentPage:1})},onDelete:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("ok"!=t){a.next=6;break}return n=e.deleteModal.showId,a.next=4,e.$store.dispatch("watchedShows/deleteFromWatchedShows",{showId:n});case 4:return a.next=6,e.$store.dispatch("watchedShows/getWatchedShows",{currentPage:1});case 6:case"end":return a.stop()}}),a)})))()},onTags:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.showId,a.next=3,e.$store.dispatch("shows/showsEpisodesTagsGet",n);case 3:if(r=function(t){return t<10?"0".concat(t):t},s=e.showEpisodesTags.map((function(t){var e=t.name,a=t.episode;return{x:e,y:"S".concat(r(a.season.number),"E").concat(r(a.number))}})),0!=s.length){a.next=7;break}return a.abrupt("return");case 7:e.tagsModal.show=!0,e.tagsModal.data=s;case 9:case"end":return a.stop()}}),a)})))()},onRefresh:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.refreshing=!0,e.next=3,t.$store.dispatch("shows/updateShows");case 3:t.refreshing=!1;case 4:case"end":return e.stop()}}),e)})))()},initScroll:function(){var t=this;window.onscroll=function(){var e=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;e&&t.$store.dispatch("watchedShows/getWatchedShows",{currentPage:t.currentPage+1})}}},components:{NoContent:xe,WatchedShowCard:Ma,SwitchGroup:Me,Loader:Ye,Pager:la,ReachedEnd:fa}},Na=Aa,Da=Object(h["a"])(Na,Oa,xa,!1,null,null,null),Wa=Da.exports,Ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("uiv-modal",{ref:"deleteModal",attrs:{title:"Confirm","ok-text":"Yes",size:"sm"},on:{hide:t.onDelete},model:{value:t.deleteModal.show,callback:function(e){t.$set(t.deleteModal,"show",e)},expression:"deleteModal.show"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("h4",{staticClass:"margin-top-0 margin-bottom-20"},[t._v(" Are you sure you want to delete this movie? ")])])])]),t.collection.length>15?a("pager",{attrs:{"current-page":t.currentPage,"total-pages":t.totalPages}}):t._e(),a("div",{staticClass:"container-fluid fade-in"},[a("div",{staticClass:"row margin-bottom-20"},[a("div",{staticClass:"col-xs-12"},[a("search-movies")],1)]),a("div",{staticClass:"row show-layout"},t._l(t.collection,(function(e){return a("div",{key:e._id,staticClass:"col-xs-6 col-sm-3 col-md-2"},[a("movie-card",{attrs:{heading:e.movie.title,"img-src":e.movie.poster,"movie-id":e.movie._id,id:e._id,deleteable:!0},on:{onDelete:function(e){t.deleteModal.show=!0,t.deleteModal.id=e}}})],1)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12"},[a("loader",{attrs:{show:t.requesting}})],1)]),a("reached-end",{attrs:{show:t.reachedEnd}},[t._v(" Reached End ")]),0==t.collection.length?a("no-content",{attrs:{message:"Your movie collection is empty!"}}):t._e()],1)],1)},La=[],qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{on:{submit:function(e){return e.preventDefault(),t.findShow.apply(null,arguments)}}},[a("div",{staticClass:"form-element search dark"},[t.moviesFound.length>0?a("button",{staticClass:"dripicons-cross",attrs:{type:"button"},on:{click:t.empty}}):t._e(),a("loader",{attrs:{show:t.requesting}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"name",placeholder:"'Movie Name, Year'"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("button",{staticClass:"dripicons-search",attrs:{type:"submit",disabled:t.requesting}}),a("div",{staticClass:"search-results",class:{show:t.moviesFound}},t._l(t.moviesFound,(function(e,n){return a("search-result-item",{key:n,attrs:{poster:e.Poster,title:e.Title,plot:e.Plot,year:e.Year,disabled:t.requesting},on:{click:function(a){return t.addMovie(e)}}})})),1)],1)])},Ua=[],Ba={name:"SearchMovies",data:function(){return{name:"",requesting:!1}},computed:Object(i["a"])({},Object(d["c"])({moviesFound:function(t){var e=t.movies;return e.moviesFound}})),methods:{addMovie:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$store.dispatch("movieCollection/saveToMovieCollectionMovie",t);case 2:e.empty();case 3:case"end":return a.stop()}}),a)})))()},findShow:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.requesting=!0,e.next=3,t.$store.dispatch("movies/movieGet",t.name);case 3:t.requesting=!1;case 4:case"end":return e.stop()}}),e)})))()},empty:function(){this.name="",this.$store.dispatch("movies/reset")}},components:{SearchResultItem:Ue,Loader:Ye}},Ha=Ba,Fa=(a("9906"),Object(h["a"])(Ha,qa,Ua,!1,null,null,null)),Va=Fa.exports,za=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"movie-card",class:{deleteable:t.deleteable},style:{"background-image":"url("+t.imgSrc+")"},attrs:{tabindex:"0"},on:{click:function(e){return e.stopPropagation(),t.goToMovieDetails(t.movieId)}}},[a("button",{staticClass:"icon-button red dripicons-trash",attrs:{tabindex:"0"},on:{click:function(e){return e.stopPropagation(),t.$emit("onDelete",t.id)}}}),a("h2",[t._v(t._s(t.heading))])])},Ya=[],Ka={name:"MovieCard",props:{heading:String,imgSrc:String,movieId:String,id:String,deleteable:Boolean},methods:{goToMovieDetails:function(t){this.$router.push({name:"movieDetails",params:{movieId:t}})}}},Ja=Ka,Qa=(a("2151"),Object(h["a"])(Ja,za,Ya,!1,null,null,null)),Xa=Qa.exports,Za={name:"MovieCollection",data:function(){return{deleteModal:{show:!1,showId:null}}},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("movieCollection/getMovieCollection",{currentPage:1});case 2:t.initScroll();case 3:case"end":return e.stop()}}),e)})))()},computed:Object(i["a"])({},Object(d["c"])({collection:function(t){var e=t.movieCollection;return e.collection},currentPage:function(t){var e=t.movieCollection;return e.currentPage},totalPages:function(t){var e=t.movieCollection;return e.totalPages},reachedEnd:function(t){var e=t.movieCollection,a=e.collection,n=e.pageSize,r=e.currentPage,s=e.totalPages;return!(a.length<n)&&s==r},requesting:function(t){var e=t.movieCollection;return e.requesting}})),methods:{onDelete:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("ok"!=t){a.next=4;break}return n=e.deleteModal.id,a.next=4,e.$store.dispatch("movieCollection/deleteFromMovieCollection",n);case 4:case"end":return a.stop()}}),a)})))()},initScroll:function(){var t=this;window.onscroll=function(){var e=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;e&&t.$store.dispatch("movieCollection/getMovieCollection",{currentPage:t.currentPage+1})}}},components:{Popup:Pe,SearchMovies:Va,MovieCard:Xa,NoContent:xe,Loader:Ye,Pager:la,ReachedEnd:fa}},tn=Za,en=Object(h["a"])(tn,Ga,La,!1,null,null,null),an=en.exports,nn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"poster-xl-bg-container"},[a("div",{staticClass:"container fade-in"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12"},[a("div",{staticClass:"movie-details"},[a("div",{staticClass:"col-sm-12"},[a("h1",[t._v(" "+t._s(t.movieDetails.title)+" "),a("span",{staticClass:"runtime"},[t._v(t._s(t.movieDetails.runtime))]),a("span",{staticClass:"year"},[t._v(t._s(t.movieDetails.year))])]),a("h4",{staticClass:"genre"},[t._v(t._s(t.movieDetails.genre))])]),a("div",{staticClass:"col-sm-6 col-md-5"},[a("p",[t._v(t._s(t.movieDetails.plot))])])])])]),a("div",{staticClass:"row ratings margin-top-50"},t._l(t.movieDetails.ratings,(function(e,n){return a("div",{key:n,staticClass:"col-xs-4"},[a("div",{staticClass:"rating"},[a("p",[t._v(t._s(e.source))]),a("h4",[t._v(t._s(e.value))])])])})),0)]),a("div",{staticClass:"poster-gradient"}),a("img",{staticClass:"poster-background",class:{enter:t.showPoster},attrs:{src:t.movieDetails.posterXL}})])])},rn=[],sn={name:"MovieDetails",data:function(){return{showPoster:!1}},computed:Object(i["a"])({},Object(d["c"])({movieDetails:function(t){var e=t.movies;return e.movieDetails}})),mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.params.movieId,e.next=3,t.$store.dispatch("movies/movieDetailsGet",a);case 3:setTimeout((function(){t.showPoster=!0}),500);case 4:case"end":return e.stop()}}),e)})))()}},on=sn,cn=(a("a6dd"),Object(h["a"])(on,nn,rn,!1,null,null,null)),un=cn.exports,ln=a("bc3a"),dn=a.n(ln),pn=dn.a.create({baseURL:"https://to--watch.herokuapp.com"});pn.interceptors.request.use((function(t){var e=ts.state.storage.token,a=t.url.indexOf(Object({NODE_ENV:"production",VUE_APP_API_URL:"https://to--watch.herokuapp.com",BASE_URL:""}).VUE_APP_TVMAZE_API_URL),n=t.url.indexOf(Object({NODE_ENV:"production",VUE_APP_API_URL:"https://to--watch.herokuapp.com",BASE_URL:""}).VUE_APP_OMDB_API_URL),r=a<0&&n<0;return e&&r&&(t.headers["Authorization"]="token ".concat(e)),t}),(function(t){return Promise.reject(t)})),pn.interceptors.response.use((function(t){return t}),(function(t){var e=t.response;return 401===e.status&&ts.dispatch("auth/signUserOut"),Promise.reject(t.response)}));var mn,hn,gn,fn,vn,wn,bn,_n,On=pn,xn={},Cn={},Sn={signUserIn:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.dispatch,a.prev=1,a.next=4,On({method:"POST",url:"/login",data:e});case 4:return r=a.sent,a.next=7,n("storage/save",{prop:"token",value:r.data.token},{root:!0});case 7:return a.next=9,n("storage/save",{prop:"user",value:{email:e.email}},{root:!0});case 9:as.push({name:"watching"}),a.next=16;break;case 12:a.prev=12,a.t0=a["catch"](1),s=a.t0.data,n("showToast",{title:"Error",message:s.message},{root:!0});case 16:case"end":return a.stop()}}),a,null,[[1,12]])})))()},signUserOut:function(t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.dispatch,e.next=3,a("storage/reset",null,{root:!0});case 3:as.push({name:"login"});case 4:case"end":return e.stop()}}),e)})))()},register:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.dispatch,a.prev=1,a.next=4,On({method:"POST",url:"/register",data:e});case 4:r=a.sent,s=r.data,as.push({name:"login"}),n("showToast",{title:"Registered",message:s.message},{root:!0}),a.next=15;break;case 10:a.prev=10,a.t0=a["catch"](1),o=a.t0.data,as.push({name:"login"}),n("showToast",{title:"Error",message:o.message},{root:!0});case 15:case"end":return a.stop()}}),a,null,[[1,10]])})))()},verifyEmail:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.dispatch,a.prev=1,a.next=4,On({method:"POST",url:"/verify-email",data:{token:e}});case 4:r=a.sent,s=r.data,as.push({name:"login"}),n("showToast",{title:"Email Verified",message:s.message},{root:!0}),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](1),o=a.t0.data,n("showToast",{title:"Error",message:o.message},{root:!0});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))()},forgotPassword:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.dispatch,r=e.email,a.prev=2,a.next=5,On({method:"POST",url:"/forgot-password",data:{email:r}});case 5:s=a.sent,o=s.data,n("showToast",{title:"Password Reset",message:o.message},{root:!0}),a.next=12;break;case 10:a.prev=10,a.t0=a["catch"](2);case 12:case"end":return a.stop()}}),a,null,[[2,10]])})))()},resetPassword:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.dispatch,a.prev=1,a.next=4,On({method:"POST",url:"/reset-password",data:{token:e}});case 4:a.sent,a.next=12;break;case 7:a.prev=7,a.t0=a["catch"](1),r=a.t0.data,as.push({name:"login"}),n("showToast",{title:"Error",message:r.message},{root:!0});case 12:case"end":return a.stop()}}),a,null,[[1,7]])})))()},changePassword:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.dispatch,a.prev=1,a.next=4,On({method:"POST",url:"/change-password",data:e});case 4:r=a.sent,s=r.data,as.push({name:"login"}),n("showToast",{title:"Password Changed",message:s.message},{root:!0}),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](1),o=a.t0.data,n("showToast",{title:"Error",message:o.message},{root:!0});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))()}},kn={},Tn={namespaced:!0,state:xn,getters:Cn,actions:Sn,mutations:kn},En=a("ade3"),Pn="SET_MOST_POPULAR_SHOWS",jn="SHOWS_GET",Rn="SHOW_EPISODES_TAGS_GET",yn="SHOWS_RESET",In="WATCHING_SET",$n="WATCHING_GET",Mn="WATCHING_ADD",An="WATCHING_DELETE",Nn="WATCHING_TOGGLE_EPISODE_WATCHED",Dn="WATCHING_TOGGLE_TAG",Wn="WATCHING_GET_TAG",Gn="WATCHING_REQUESTING",Ln="WATCHED_SHOWS_REQUESTING",qn="WATCHED_SHOWS_SET",Un="WATCHED_SHOWS_GET",Bn="WATCHED_SHOWS_DELETE",Hn="MOVIE_GET",Fn="MOVIE_RESET",Vn="MOVIE_DETAILS_GET",zn="MOVIE_COLLECTION_SET",Yn="MOVIE_COLLECTION_GET",Kn="MOVIE_COLLECTION_ADD",Jn="MOVIE_COLLECTION_DELETE",Qn="MOVIE_COLLECTION_REQUESTING",Xn="SEASONS_GET",Zn="EPISODES_GET",tr="EPISODE_TAGS_GET",er="SHOW_TYPES_GET",ar="TOAST_MESSAGE",nr="TOAST_DISMISS",rr="STORAGE_SET",sr="STORAGE_UPDATE",or="STORAGE_RESET",ir={shows:[]},cr={},ur={getMostPopularShows:function(t){var e=t.commit;dn.a.get("https://www.episodate.com/api/most-popular?page=1").then((function(t){e(Pn,t.data.tv_shows)}))}},lr=Object(En["a"])({},Pn,(function(t,e){t.shows=e})),dr={namespaced:!0,state:ir,getters:cr,mutations:lr,actions:ur},pr={showsFound:[],showEpisodesTags:[]},mr={},hr={showsGet:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,r=t.dispatch,a.prev=1,a.next=4,On({method:"GET",url:"".concat(Object({NODE_ENV:"production",VUE_APP_API_URL:"https://to--watch.herokuapp.com",BASE_URL:""}).VUE_APP_TVMAZE_API_URL,"/search/shows"),params:{q:e}});case 4:if(s=a.sent,0!=s.data.length){a.next=7;break}return a.abrupt("return",r("showToast",{title:"Not Found",message:"Show could not be found."}));case 7:n(jn,s.data),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](1),o=a.t0.data,r("showToast",{title:"Error.",message:o},{root:!0});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))()},showsEpisodesTagsGet:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,r=t.dispatch,n("SHOWS_RESET"),a.prev=2,a.next=5,On({method:"GET",url:"/episode-tags/".concat(e,"/tags")});case 5:s=a.sent,n(Rn,s.data.tags),a.next=13;break;case 9:a.prev=9,a.t0=a["catch"](2),o=a.t0.data,r("showToast",{title:"Error.",message:o},{root:!0});case 13:case"end":return a.stop()}}),a,null,[[2,9]])})))()},save:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.dispatch,a.prev=1,a.next=4,On({method:"POST",url:"/shows",data:e});case 4:return r=a.sent,s=r.data,a.abrupt("return",s);case 9:a.prev=9,a.t0=a["catch"](1),o=a.t0.data,n("showToast",{title:"Error",message:o.message},{root:!0});case 13:case"end":return a.stop()}}),a,null,[[1,9]])})))()},updateShow:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.dispatch,a.prev=1,a.next=4,On({method:"POST",url:"/shows/".concat(e,"/update")});case 4:r=a.sent,n("showToast",{title:200==r.status?"Show Updated.":"Show Already Upto Date."},{root:!0}),a.next=12;break;case 8:a.prev=8,a.t0=a["catch"](1),s=a.t0.data,n("showToast",{title:"Error.",message:s},{root:!0});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()},updateShows:function(t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.dispatch,e.prev=1,e.next=4,On({method:"POST",url:"/shows/update"});case 4:e.sent,a("showToast",{title:"Shows Updated."},{root:!0}),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),n=e.t0.data,a("showToast",{title:"Error.",message:n},{root:!0});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},reset:function(t){var e=t.commit;e(yn)}},gr=(mn={},Object(En["a"])(mn,jn,(function(t,e){t.showsFound=e.map((function(t){var e=t.show;return Object(i["a"])(Object(i["a"])({},e),{},{image:e.image||{}})}))})),Object(En["a"])(mn,Rn,(function(t,e){t.showEpisodesTags=e})),Object(En["a"])(mn,yn,(function(t){t.showsFound=[]})),mn),fr={namespaced:!0,state:pr,getters:mr,mutations:gr,actions:hr},vr=a("2909"),wr={watching:[],currentPage:1,requesting:!1,totalPages:10,pageSize:8},br={},_r={getWatching:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.commit,r=t.dispatch,s=e.currentPage,!(wr.requesting||wr.totalPages<s&&s>1)){a.next=4;break}return a.abrupt("return");case 4:return a.prev=4,n(Gn,!0),a.next=8,On({method:"GET",url:"/watchings",params:{currentPage:s}});case 8:if(o=a.sent,1!==s){a.next=12;break}return n(Gn,!1),a.abrupt("return",n(In,o.data));case 12:n(Gn,!1),n($n,o.data),a.next=21;break;case 16:a.prev=16,a.t0=a["catch"](4),i=a.t0.data,n(Gn,!1),r("showToast",{title:"Error",message:i.message},{root:!0});case 21:case"end":return a.stop()}}),a,null,[[4,16]])})))()},addToWatching:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i,c,u,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.dispatch,r=t.commit,s=e.showId,o=e.seasonId,i=e.episodeId,a.prev=2,a.next=5,On({method:"POST",url:"/watchings",data:{showId:s,seasonId:o,episodeId:i}});case 5:c=a.sent,u=c.data,r(Mn,u.watching),n("showToast",{title:"Added To Watching",message:u.message},{root:!0}),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](2),l=a.t0.data,n("showToast",{title:"Error",message:l},{root:!0});case 15:case"end":return a.stop()}}),a,null,[[2,11]])})))()},deleteWatching:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.state,n=t.dispatch,r=t.commit,s=e.id,o=e.showTypeId,a.prev=2,a.next=5,On({method:"DELETE",url:"/watchings/".concat(s),data:{showTypeId:o}});case 5:i=a.sent,c=i.data,r(An,s),n("showToast",{title:"Show Deleted",message:c.message},{root:!0}),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](2),u=a.t0.data,n("showToast",{title:"Error",message:u.message},{root:!0});case 15:case"end":return a.stop()}}),a,null,[[2,11]])})))()},getEpisodes:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,r=t.dispatch,s=e.watchingId,o=e.seasonId,a.prev=2,a.next=5,On({method:"GET",url:"/episodes/".concat(o)});case 5:i=a.sent,c=i.data,n(Zn,{watchingId:s,seasonId:o,episodes:c}),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](2),u=a.t0.data,r("showToast",{title:"Error",message:u.message},{root:!0});case 14:case"end":return a.stop()}}),a,null,[[2,10]])})))()},toggleWatched:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,r=t.dispatch,s=e.watchingId,o=e.episode,a.prev=2,a.next=5,On({method:"POST",url:"/watching/".concat(s,"/watched/").concat(o._id)});case 5:i=a.sent,c=i.data,n(Nn,{watchingId:s,data:c}),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](2),u=a.t0.data,r("showToast",{title:"Error",message:u.message},{root:!0});case 14:case"end":return a.stop()}}),a,null,[[2,10]])})))()},getEpisodeTags:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i,c,u,l,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.rootState,r=t.commit,s=t.dispatch,o=e.watchingId,i=e.episode,a.prev=2,c=n.lookups.episodeTags,a.next=6,On({method:"GET",url:"/episode-tags/".concat(i._id,"/tag")});case 6:u=a.sent,l=u.data,r(Wn,{watchingId:o,data:l,episode:i,episodeTags:c}),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](2),d=a.t0.data,s("showToast",{title:"Error",message:d.message},{root:!0});case 15:case"end":return a.stop()}}),a,null,[[2,11]])})))()},toggleTag:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i,c,u,l,d,p;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.rootState,r=t.commit,s=t.dispatch,o=e.watchingId,i=e.tagId,c=e.episode,a.prev=2,u=n.lookups.episodeTags,a.next=6,On({method:"POST",url:"/episode-tags/".concat(c._id,"/tag/").concat(i)});case 6:l=a.sent,d=l.data,r(Dn,{watchingId:o,data:d,episode:c,episodeTags:u}),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](2),p=a.t0.data,s("showToast",{title:"Error",message:p.message},{root:!0});case 15:case"end":return a.stop()}}),a,null,[[2,11]])})))()}},Or=(hn={},Object(En["a"])(hn,Gn,(function(t,e){t.requesting=e})),Object(En["a"])(hn,In,(function(t,e){var a=e.watching,n=e.currentPage,r=e.totalPages,s=e.pageSize;t.currentPage=n,t.totalPages=r,t.watching=a,t.pageSize=s})),Object(En["a"])(hn,$n,(function(t,e){var a=e.watching,n=e.currentPage,r=e.totalPages,s=e.pageSize;t.currentPage=n,t.totalPages=r,t.pageSize=s,t.watching=[].concat(Object(vr["a"])(t.watching),Object(vr["a"])(a))})),Object(En["a"])(hn,Mn,(function(t,e){t.watching=[].concat(Object(vr["a"])(t.watching),[e])})),Object(En["a"])(hn,An,(function(t,e){t.watching=t.watching.filter((function(t){return t._id!=e}))})),Object(En["a"])(hn,Zn,(function(t,e){var a=e.watchingId,n=e.seasonId,r=e.episodes,s=t.watching.find((function(t){return t._id==a})),o=s.episode,c=s.show,u=c.seasons.find((function(t){return t._id==n})),l=c.seasons.indexOf(u)+1,d=l<o.season.number,p=function(t){return l==o.season.number&&t.number<=o.number},m=r.map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{tags:[],watched:d||p(t)})}));t.watching.map((function(t){return t._id===a&&t.show.seasons.map((function(t){return t._id==n&&(t.episodes=m),t})),t}))})),Object(En["a"])(hn,Nn,(function(t,e){var a=e.watchingId,n=e.data,r=n.episode,s=n.behindCount,o=function(t){return t.number<=r.number};t.watching=t.watching.map((function(t){return t._id===a&&(t.behindCount=s,t.episode=r,t.show.seasons.map((function(t){return t._id===r.season._id?t.episodes.map((function(t){return t.watched=o(t),t})):t}))),t}))})),Object(En["a"])(hn,Dn,(function(t,e){var a=e.watchingId,n=e.episode,r=e.data,s=e.episodeTags;t.watching=t.watching.map((function(t){return t._id===a&&t.show.seasons.map((function(t){return t._id===n.season?t.episodes.map((function(t){return t._id===n._id&&(t.tags=s.map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{active:!!r.find((function(e){var a=e.id;return t.id==a}))})}))),t})):t})),t}))})),Object(En["a"])(hn,Wn,(function(t,e){var a=e.watchingId,n=e.episode,r=e.data,s=e.episodeTags;t.watching=t.watching.map((function(t){return t._id===a&&t.show.seasons.map((function(t){return t._id===n.season?t.episodes.map((function(t){return t._id===n._id&&(t.tags=s.map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{active:!!r.find((function(e){var a=e.id;return t.id==a}))})}))),t})):t})),t}))})),hn),xr={namespaced:!0,state:wr,getters:br,mutations:Or,actions:_r},Cr=(a("4e82"),{filter:{sort:"Collection"},currentPage:1,watchedShows:[],requesting:!1,totalPages:10,pageSize:15}),Sr={},kr={getWatchedShows:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.state,r=t.dispatch,s=t.commit,o=e.currentPage,!(n.requesting||n.totalPages<o&&o>1)){a.next=4;break}return a.abrupt("return");case 4:return a.prev=4,s(Ln,!0),a.next=8,On({method:"GET",url:"/watched-shows",params:{currentPage:o,showType:n.filter.sort}});case 8:if(i=a.sent,1!==o){a.next=12;break}return s(Ln,!1),a.abrupt("return",s(qn,i.data));case 12:s(Ln,!1),s(Un,i.data),a.next=21;break;case 16:a.prev=16,a.t0=a["catch"](4),c=a.t0.data,s(Ln,!1),r("showToast",{title:"Error",message:c.message},{root:!0});case 21:case"end":return a.stop()}}),a,null,[[4,16]])})))()},deleteFromWatchedShows:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.dispatch,r=t.commit,s=e.showId,a.prev=2,a.next=5,On({method:"DELETE",url:"/watched-shows/".concat(s)});case 5:o=a.sent,i=o.data,r(Bn,s),n("showToast",{title:"Deleted",message:i.message},{root:!0}),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](2),c=a.t0.data,n("showToast",{title:"Error",message:c.message},{root:!0});case 15:case"end":return a.stop()}}),a,null,[[2,11]])})))()},continueWatching:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.dispatch,r=e.showId,s=e.name,a.prev=2,a.next=5,On({method:"POST",url:"/watched-shows/".concat(r,"/continue")});case 5:return n("showToast",{title:"Continue Watching",message:s},{root:!0}),a.abrupt("return",!0);case 9:return a.prev=9,a.t0=a["catch"](2),o=a.t0.data,n("showToast",{title:"Error",message:o},{root:!0}),a.abrupt("return",!1);case 14:case"end":return a.stop()}}),a,null,[[2,9]])})))()},rewatching:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.dispatch,r=e.showId,s=e.name,a.prev=2,a.next=5,On({method:"POST",url:"/watched-shows/".concat(r,"/rewatch")});case 5:return n("showToast",{title:"Rewatching",message:s},{root:!0}),a.abrupt("return",!0);case 9:return a.prev=9,a.t0=a["catch"](2),o=a.t0.data,n("showToast",{title:"Error",message:o},{root:!0}),a.abrupt("return",!1);case 14:case"end":return a.stop()}}),a,null,[[2,9]])})))()}},Tr=(gn={},Object(En["a"])(gn,Ln,(function(t,e){t.requesting=e})),Object(En["a"])(gn,qn,(function(t,e){var a=e.watchedShows,n=e.currentPage,r=e.totalPages,s=e.pageSize;t.currentPage=n,t.totalPages=r,t.pageSize=s,t.watchedShows=a})),Object(En["a"])(gn,Un,(function(t,e){var a=e.watchedShows,n=e.currentPage,r=e.totalPages,s=e.pageSize;t.currentPage=n,t.totalPages=r,t.pageSize=s,t.watchedShows=[].concat(Object(vr["a"])(t.watchedShows),Object(vr["a"])(a))})),Object(En["a"])(gn,Bn,(function(t,e){t.watchedShows=t.watchedShows.filter((function(t){return t.showId!=e}))})),gn),Er={namespaced:!0,state:Cr,getters:Sr,mutations:Tr,actions:kr},Pr={collection:[],currentPage:1,requesting:!1,totalPages:10,pageSize:15},jr={},Rr={getMovieCollection:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.state,r=t.commit,s=t.dispatch,o=e.currentPage,!(n.requesting||n.totalPages<o&&o>1)){a.next=4;break}return a.abrupt("return");case 4:return a.prev=4,r(Qn,!0),a.next=8,On({method:"GET",url:"/movie-collections",params:{currentPage:o}});case 8:if(i=a.sent,1!==o){a.next=12;break}return r(Qn,!1),a.abrupt("return",r(zn,i.data));case 12:if(0!=i.data.collection.length){a.next=14;break}return a.abrupt("return",r("updateState",{reachedEnd:!0}));case 14:r(Qn,!1),r(Yn,i.data),a.next=23;break;case 18:a.prev=18,a.t0=a["catch"](4),c=a.t0.data,r(Qn,!1),s("showToast",{title:"Error",message:c.message},{root:!0});case 23:case"end":return a.stop()}}),a,null,[[4,18]])})))()},saveToMovieCollectionMovie:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,r=t.dispatch,a.prev=1,s=e.Poster.slice(0,e.Poster.length-7),a.next=5,On({method:"POST",url:"/movie-collections",data:Object(i["a"])(Object(i["a"])({},e),{},{Poster:s+"210.jpg",PosterXL:s+"720.jpg"})});case 5:o=a.sent,c=o.data,n(Kn,c.movie),r("showToast",{title:"Movie added.",message:c.message},{root:!0}),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](1),u=a.t0.data,r("showToast",{title:"Error",message:u.message},{root:!0});case 15:case"end":return a.stop()}}),a,null,[[1,11]])})))()},deleteFromMovieCollection:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,r=t.dispatch,a.prev=1,a.next=4,On({method:"DELETE",url:"/movie-collections/".concat(e)});case 4:s=a.sent,o=s.data,n(Jn,e),r("showToast",{title:"Movie Deleted",message:o.message},{root:!0}),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](1),i=a.t0.data,r("showToast",{title:"Error",message:i.message},{root:!0});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))()}},yr=(fn={updateState:function(t,e){var a=e.prop,n=e.value;t=Object(i["a"])(Object(i["a"])({},t),{},Object(En["a"])({},a,n))}},Object(En["a"])(fn,Qn,(function(t,e){t.requesting=e})),Object(En["a"])(fn,zn,(function(t,e){var a=e.collection,n=e.currentPage,r=e.totalPages,s=e.pageSize;t.currentPage=n,t.totalPages=r,t.collection=a,t.pageSize=s})),Object(En["a"])(fn,Yn,(function(t,e){var a=e.collection,n=e.currentPage,r=e.totalPages,s=e.pageSize;t.currentPage=n,t.totalPages=r,t.pageSize=s,t.collection=[].concat(Object(vr["a"])(t.collection),Object(vr["a"])(a))})),Object(En["a"])(fn,Kn,(function(t,e){t.collection=[].concat(Object(vr["a"])(t.collection),[e])})),Object(En["a"])(fn,Jn,(function(t,e){t.collection=t.collection.filter((function(t){return t._id!==e}))})),fn),Ir={namespaced:!0,state:Pr,getters:jr,mutations:yr,actions:Rr},$r=(a("ac1f"),a("1276"),{movieDetails:{},moviesFound:[]}),Mr={},Ar={movieGet:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,c,u,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.commit,r=t.dispatch,e){a.next=3;break}return a.abrupt("return");case 3:return a.prev=3,a.next=6,On({method:"GET",url:Object({NODE_ENV:"production",VUE_APP_API_URL:"https://to--watch.herokuapp.com",BASE_URL:""}).VUE_APP_OMDB_API_URL,params:{apikey:Object({NODE_ENV:"production",VUE_APP_API_URL:"https://to--watch.herokuapp.com",BASE_URL:""}).VUE_APP_OMDB_API_KEY,plot:"full",t:e.split(",")[0],y:e.split(",")[1]}});case 6:if(s=a.sent,o=s.data,!o.Error){a.next=10;break}return a.abrupt("return",r("showToast",{title:"Not Found",message:"Movie could not be found."},{root:!0}));case 10:c=o.Poster,u=c.substring(0,c.length-7),n(Hn,[Object(i["a"])(Object(i["a"])({},o),{},{Poster:u+"125.jpg"})]),a.next=19;break;case 15:a.prev=15,a.t0=a["catch"](3),l=a.t0.data,r("showToast",{title:"Error",message:l.message},{root:!0});case 19:case"end":return a.stop()}}),a,null,[[3,15]])})))()},reset:function(t){var e=t.commit;e(Fn)},movieDetailsGet:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.dispatch,r=t.commit,a.prev=1,a.next=4,On({method:"GET",url:"/movies/".concat(e)});case 4:s=a.sent,o=s.data,r(Vn,o),a.next=13;break;case 9:a.prev=9,a.t0=a["catch"](1),i=a.t0.data,n("showToast",{title:"Error",message:i.message},{root:!0});case 13:case"end":return a.stop()}}),a,null,[[1,9]])})))()}},Nr=(vn={},Object(En["a"])(vn,Vn,(function(t,e){t.movieDetails=e})),Object(En["a"])(vn,Hn,(function(t,e){t.moviesFound=e})),Object(En["a"])(vn,Fn,(function(t){t.moviesFound=[]})),vn),Dr={namespaced:!0,state:$r,getters:Mr,mutations:Nr,actions:Ar},Wr={seasons:[],episodes:[],episodeTags:[],showTypes:[]},Gr={},Lr={getEpisodes:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,r=t.dispatch,a.prev=1,n("resetState","episodes"),a.next=5,On({method:"GET",url:"/episodes/".concat(e)});case 5:s=a.sent,n(Zn,s.data),a.next=13;break;case 9:a.prev=9,a.t0=a["catch"](1),o=a.t0.data,r("showToast",{title:"Error",message:o.message},{root:!0});case 13:case"end":return a.stop()}}),a,null,[[1,9]])})))()},getEpisodeTags:function(t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,n=t.dispatch,e.prev=1,e.next=4,On({method:"GET",url:"/episode-tags"});case 4:r=e.sent,a(tr,r.data),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),s=e.t0.data,n("showToast",{title:"Error",message:s.message},{root:!0});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},getShowTypes:function(t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,n=t.dispatch,e.prev=1,e.next=4,On({method:"GET",url:"/show-types"});case 4:r=e.sent,a(er,r.data),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),s=e.t0.data,n("showToast",{title:"Error",message:s.message},{root:!0});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()}},qr=(wn={},Object(En["a"])(wn,Xn,(function(t,e){t.seasons=e})),Object(En["a"])(wn,Zn,(function(t,e){t.episodes=e})),Object(En["a"])(wn,tr,(function(t,e){t.episodeTags=e})),Object(En["a"])(wn,er,(function(t,e){t.showTypes=e})),Object(En["a"])(wn,"resetState",(function(t,e){t[e]=[]})),wn),Ur={namespaced:!0,state:Wr,getters:Gr,mutations:qr,actions:Lr},Br=(a("c740"),a("a434"),{toasts:[]}),Hr={toasts:function(t){return t.toasts}},Fr={showToast:function(t,e){var a=t.commit,n=(new Date).getTime();a(ar,Object(i["a"])(Object(i["a"])({},e),{},{timestamp:n})),setTimeout((function(){a(nr,n)}),4e3)},toastDismiss:function(t,e){var a=t.commit;a(nr,e)}},Vr=(bn={},Object(En["a"])(bn,ar,(function(t,e){t.toasts.push(Object(i["a"])(Object(i["a"])({},e),{},{show:!0}))})),Object(En["a"])(bn,nr,(function(t,e){var a=t.toasts.findIndex((function(t){return t.timestamp==e}));t.toasts.splice(a,1)})),bn),zr={state:Br,getters:Hr,actions:Fr,mutations:Vr};a("e9c4");function Yr(){return{token:!1,user:{}}}var Kr=Yr(),Jr={},Qr={initialiseStore:function(t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.commit,n=localStorage.getItem("storage"),!n){e.next=5;break}return a(rr,JSON.parse(n)),e.abrupt("return",JSON.parse(n));case 5:return a(rr,Yr()),e.abrupt("return",Yr());case 7:case"end":return e.stop()}}),e)})))()},save:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=t.commit,r=e.prop,s=e.value,n(sr,{prop:r,value:s});case 3:case"end":return a.stop()}}),a)})))()},reset:function(t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.commit,a(or);case 2:case"end":return e.stop()}}),e)})))()}},Xr=(_n={},Object(En["a"])(_n,rr,(function(t,e){t=Object.assign(t,e)})),Object(En["a"])(_n,sr,(function(t,e){var a=e.prop,n=e.value;t=Object.assign(t,Object(En["a"])({},a,n)),localStorage.setItem("storage",JSON.stringify(t))})),Object(En["a"])(_n,or,(function(t){t=Object.assign(t,Yr()),localStorage.setItem("storage",JSON.stringify({}))})),_n),Zr={namespaced:!0,state:Kr,getters:Jr,actions:Qr,mutations:Xr};n["a"].use(d["a"]);var ts=new d["a"].Store({modules:{auth:Tn,mostPopular:dr,shows:fr,watching:xr,watchedShows:Er,movieCollection:Ir,movies:Dr,lookups:Ur,toast:zr,storage:Zr}});n["a"].use($["a"]);var es=new $["a"]({linkActiveClass:"active",routes:[{path:"/most-popular",name:"mostPopular",component:F},{path:"/login/:token?",name:"login",component:nt},{path:"/forgot-password",name:"forgotPassword",component:ht},{path:"/change-password/:resetToken",name:"changePassword",component:_t},{path:"/watching",name:"watching",component:_a,meta:{requiresAuth:!0}},{path:"/watched-shows",name:"watchedShows",component:Wa,meta:{requiresAuth:!0}},{path:"/movie-collection",name:"movieCollection",component:an,meta:{requiresAuth:!0}},{path:"/movie-details/:movieId",name:"movieDetails",component:un,meta:{requiresAuth:!0}},{path:"/",redirect:"/most-popular"}],scrollBehavior:function(){return{x:0,y:0}}});es.beforeEach(function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e,a,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ts.dispatch("storage/initialiseStore");case 2:if(r=t.sent,s=r.token,e.matched.some((function(t){return t.meta.requiresAuth}))&&(s||"login"==e.name||ts.dispatch("auth/signUserOut")),"login"!=e.name||!s){t.next=7;break}return t.abrupt("return",n({path:"/watching"}));case 7:n();case 8:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}());var as=es;n["a"].config.productionTip=!1,n["a"].use(r,{prefix:"uiv"}),new n["a"]({store:ts,el:"#app",router:as,render:function(t){return t(I)},components:{App:I}}).$mount("#app")},"570c":function(t,e,a){"use strict";a("3f43")},"59db":function(t,e,a){"use strict";a("5a42")},"5a42":function(t,e,a){},"5bdb":function(t,e,a){},"5e96":function(t,e,a){"use strict";a("2253")},"5f8e":function(t,e,a){"use strict";a("cd37")},6794:function(t,e,a){"use strict";a("c93c")},"70ac":function(t,e,a){},7999:function(t,e,a){"use strict";a("efa4")},"79f7":function(t,e,a){"use strict";a("def2")},"7f25":function(t,e,a){"use strict";a("3bae")},8160:function(t,e,a){"use strict";a("24f3")},8716:function(t,e,a){},"8b5b":function(t,e,a){"use strict";a("1270")},"8d3b":function(t,e,a){"use strict";a("4c22")},"94c0":function(t,e,a){"use strict";a("eb00")},9906:function(t,e,a){"use strict";a("992d")},"992d":function(t,e,a){},a6dd:function(t,e,a){"use strict";a("2418")},aaed:function(t,e,a){},b311:function(t,e,a){"use strict";a("8716")},bd28:function(t,e,a){},c560:function(t,e,a){"use strict";a("ccb9")},c707:function(t,e,a){"use strict";a("4ec7")},c816:function(t,e,a){},c93c:function(t,e,a){},ccb9:function(t,e,a){},cd03:function(t,e,a){"use strict";a("e36d")},cd37:function(t,e,a){},d741:function(t,e,a){"use strict";a("550e")},d796:function(t,e,a){},def2:function(t,e,a){},e36d:function(t,e,a){},e67d:function(t,e,a){"use strict";a("5bdb")},eb00:function(t,e,a){},ed2f:function(t,e,a){"use strict";a("0259")},efa4:function(t,e,a){},f5ee:function(t,e,a){},f82b:function(t,e,a){"use strict";a("41ad")}});
//# sourceMappingURL=app.e071eabd.js.map