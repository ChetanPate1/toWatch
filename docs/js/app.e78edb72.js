(function(e){function t(t){for(var n,o,i=t[0],c=t[1],u=t[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(p.length)p.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},s=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0259":function(e,t,a){},"044f":function(e,t,a){},"0d17":function(e,t,a){"use strict";a("3488")},"0f16":function(e,t,a){"use strict";a("d796")},1062:function(e,t,a){"use strict";a("c816")},1270:function(e,t,a){},2151:function(e,t,a){"use strict";a("044f")},2253:function(e,t,a){},2418:function(e,t,a){},"24f3":function(e,t,a){},"267c":function(e,t,a){"use strict";a("4285")},"2c29":function(e,t,a){"use strict";a("70ac")},3488:function(e,t,a){},"3bae":function(e,t,a){},"3f43":function(e,t,a){},"40ac":function(e,t,a){"use strict";a("f5ee")},"41ad":function(e,t,a){},4285:function(e,t,a){},4869:function(e,t,a){"use strict";a("aaed")},"4c22":function(e,t,a){},"4ec7":function(e,t,a){},"521e":function(e,t,a){"use strict";a("bd28")},"550e":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("a026"),r=a("a44f"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("toasts"),a("navigation-bar"),a("router-view")],1)},o=[],i=a("5530"),c=a("1da1"),u=(a("96cf"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.token?a("a",{staticClass:"logout-button",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.logout.apply(null,arguments)}}},[e._v("SIGNOUT")]):e._e(),a("nav",{staticClass:"navigation-bar",class:{open:e.open}},[a("div",{staticClass:"container"},[e._m(0),e.token?e._e():a("ul",{staticClass:"links margin-top-xs-40",on:{click:function(t){e.open=!1}}},[a("router-link",{attrs:{to:{name:"mostPopular"},tag:"li"}},[a("a",[a("span",{staticClass:"dripicons-star"}),e._v(" MOST POPULAR ")])])],1),e.token?a("ul",{staticClass:"links margin-top-xs-40",on:{click:function(t){e.open=!1}}},[a("router-link",{attrs:{to:{name:"movieCollection"},tag:"li"}},[a("a",[a("span",{staticClass:"dripicons-camcorder"}),e._v(" MOVIE COLLECTION ")])]),a("router-link",{attrs:{to:{name:"watchedShows"},tag:"li"}},[a("a",[a("span",{staticClass:"dripicons-preview"}),e._v(" WATCHED SHOWS ")])]),a("router-link",{attrs:{to:{name:"watching"},tag:"li"}},[a("a",[a("span",{staticClass:"dripicons-monitor"}),e._v(" WATCHING ")])])],1):e._e()]),e.token?e._e():a("ul",{staticClass:"links auth"},[a("router-link",{attrs:{to:{name:"login"},tag:"li"}},[a("a",[e._v("SIGNIN")])])],1)]),a("button",{staticClass:"navigation-button",attrs:{type:"button",name:"button"},on:{click:e.toggleOpen}},[a("span",{staticClass:"dripicons-menu"})]),a("div",{staticClass:"navigation-underlay",class:{open:e.open},on:{click:e.toggleOpen}})])}),l=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"brand"},[a("strong",[e._v("toWatch")])])}],d=a("2f62"),p={name:"NavigationBar",data:function(){return{open:!1,dropdown:!1}},computed:Object(i["a"])({},Object(d["c"])({token:function(e){var t=e.storage;return t.token},user:function(e){var t=e.storage;return t.user}})),methods:{toggleOpen:function(){this.open=!this.open},logout:function(){this.$store.dispatch("auth/signUserOut"),this.open=!1}}},m=p,h=(a("d741"),a("2877")),g=Object(h["a"])(m,u,l,!1,null,null,null),f=g.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"toasts"},[a("transition-group",{attrs:{name:"toast-list"}},e._l(e.toasts,(function(e){return a("toast-item",{key:e.timestamp,attrs:{title:e.title,message:e.message,timestamp:e.timestamp}})})),1)],1)},w=[],b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"toast-item",on:{click:function(t){return t.preventDefault(),e.dismiss.apply(null,arguments)}}},[a("h5",[e._v(e._s(e.title))]),a("p",[e._v(e._s(e.message))])])},_=[],x=(a("a9e3"),{name:"ToastItem",props:{title:String,message:String,timestamp:Number},methods:{dismiss:function(){this.$store.dispatch("toastDismiss",this.timestamp)}}}),O=x,C=(a("8b5b"),Object(h["a"])(O,b,_,!1,null,null,null)),S=C.exports,k={name:"Toasts",computed:Object(i["a"])({},Object(d["c"])({toasts:function(e){var t=e.toast;return t.toasts}})),components:{ToastItem:S}},T=k,E=(a("c560"),Object(h["a"])(T,v,w,!1,null,null,null)),P=E.exports,j={name:"app",mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("storage/initialiseStore");case 2:case"end":return t.stop()}}),t)})))()},computed:Object(i["a"])({},Object(d["b"])(["toasts"])),components:{NavigationBar:f,Toasts:P}},R=j,y=(a("1062"),Object(h["a"])(R,s,o,!1,null,null,null)),I=y.exports,$=(a("d3b7"),a("b0c0"),a("8c4f")),M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid fade-in"},[a("div",{staticClass:"row show-layout"},e._l(e.limit(e.shows,18),(function(e){return a("div",{key:e.id,staticClass:"col-xs-6 col-sm-3 col-md-2"},[a("show-card",{attrs:{heading:e.name,"img-src":e.image_thumbnail_path,deleteable:!1}})],1)})),0)])},W=[],N=(a("fb6a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"show-card",class:{deleteable:e.deleteable},style:{"background-image":"url("+e.imgSrc+")"},attrs:{tabindex:"0"}},[a("button",{staticClass:"icon-button red dripicons-trash",attrs:{tabindex:"0"},on:{click:function(t){return t.stopPropagation(),e.confirmDelete()}}}),a("button",{staticClass:"icon-button dripicons-plus",attrs:{tabindex:"0"},on:{click:function(t){return t.stopPropagation(),e.onAddToWatchlist()}}}),a("button",{staticClass:"icon-button dripicons-clockwise",attrs:{tabindex:"0"},on:{click:function(t){return t.stopPropagation(),e.update()}}}),a("h2",[e._v(e._s(e.heading))])])}),D=[],G={name:"ShowCard",data:function(){return{deleteOpen:!1,deleteFromWatched:!1}},props:{heading:String,imgSrc:String,id:String,showId:String,data:Object,deleteable:Boolean},methods:{update:function(){this.$store.dispatch("shows/updateShow",{showId:this.showId,imdbId:this.data.imdbId})},onAddToWatchlist:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$parent.$refs.addToWatchlist.form={showId:e.showId,episode:"",season:""},t.next=3,e.$store.dispatch("lookups/getSeasons",e.showId);case 3:e.$parent.$refs.popup.open();case 4:case"end":return t.stop()}}),t)})))()}}},A=G,q=(a("f82b"),Object(h["a"])(A,N,D,!1,null,null,null)),L=q.exports,H={name:"MostPopular",computed:Object(i["a"])({},Object(d["c"])({shows:function(e){var t=e.mostPopular;return t.shows}})),mounted:function(){this.$store.dispatch("mostPopular/getMostPopularShows")},methods:{limit:function(e,t){return e.slice(0,t)}},components:{ShowCard:L}},F=H,z=Object(h["a"])(F,M,W,!1,null,null,null),B=z.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"col-md-offset-4 col-md-4"},[a("card",[a("h2",[e._v("Sign in")]),a("form",{attrs:{name:"signinForm",novalidate:""}},[a("div",{staticClass:"form-element dark"},[a("label",{attrs:{for:"email"}},[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],attrs:{name:"email",type:"email",required:""},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}})]),a("div",{staticClass:"form-element dark"},[a("label",{attrs:{for:"password"}},[e._v("Password")]),a("button",{staticClass:"forgot-password",attrs:{type:"button"},on:{click:function(t){return e.$router.push({name:"forgotPassword"})}}},[e._v("Forgotten your password?")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],attrs:{name:"password",type:"password",required:""},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}})]),a("div",{staticClass:"row margin-top-50"},[a("div",{staticClass:"col-xs-12 text-right"},[a("uiv-btn",{attrs:{type:"primary"},on:{click:e.onLogin}},[e._v("Sign in")])],1)])])])],1)])},V=[],Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[e._t("default")],2)},K=[],J={name:"Card"},Q=J,X=(a("570c"),Object(h["a"])(Q,Y,K,!1,null,null,null)),Z=X.exports,ee={name:"Login",data:function(){return{form:{email:"",password:""}}},computed:Object(i["a"])({},Object(d["c"])({token:function(e){var t=e.storage;return t.token}})),mounted:function(){var e=this.$route.params.token;e&&this.$store.dispatch("auth/verifyEmail",e)},methods:{onLogin:function(){this.$store.dispatch("auth/signUserIn",this.form)}},components:{Card:Z}},te=ee,ae=(a("40ac"),Object(h["a"])(te,U,V,!1,null,"f3496ce8",null)),ne=ae.exports,re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"col-md-offset-4 col-md-4"},[a("card",[a("h2",[e._v("Register")]),a("form",{attrs:{name:"signinForm",novalidate:""}},[a("div",{staticClass:"form-element dark"},[a("label",{attrs:{for:"email"}},[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],attrs:{name:"email",type:"email",required:""},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}})]),a("div",{staticClass:"form-element dark"},[a("label",{attrs:{for:"password"}},[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],attrs:{name:"password",type:"password",required:""},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}})]),a("div",{staticClass:"row margin-top-50"},[a("div",{staticClass:"col-xs-12 text-right"},[a("uiv-btn",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("Register")])],1)])])])],1)])},se=[],oe={name:"Register",data:function(){return{form:{email:"",password:""}}},methods:{onSubmit:function(){this.$store.dispatch("auth/register",this.form)}},components:{Card:Z}},ie=oe,ce=(a("521e"),Object(h["a"])(ie,re,se,!1,null,"a8bb5eb4",null)),ue=(ce.exports,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"col-md-offset-4 col-md-4"},[a("card",[a("h2",[e._v("Forgot Password")]),a("form",{attrs:{name:"form",novalidate:""}},[a("div",{staticClass:"form-element dark"},[a("label",{attrs:{for:"email"}},[e._v("Your Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],attrs:{name:"email",type:"email",required:""},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}})]),a("div",{staticClass:"row margin-top-30"},[a("div",{staticClass:"col-xs-12 text-right"},[a("uiv-btn",{attrs:{type:"primary",disabled:e.loader},on:{click:e.onSubmit}},[e._v("Reset Password")])],1)])])])],1)])}),le=[],de={name:"ForgotPassword",data:function(){return{loader:!1,form:{email:""}}},methods:{onSubmit:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loader=!0,t.next=3,e.$store.dispatch("auth/forgotPassword",e.form);case 3:case"end":return t.stop()}}),t)})))()}},components:{Card:Z}},pe=de,me=(a("7999"),Object(h["a"])(pe,ue,le,!1,null,"3437077e",null)),he=me.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"col-md-offset-4 col-md-4"},[a("card",[a("h2",[e._v("Change Password")]),a("form",{attrs:{name:"form",novalidate:""}},[a("div",{staticClass:"form-element dark"},[a("label",{attrs:{for:"password"}},[e._v("New Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.newPassword,expression:"form.newPassword"}],attrs:{name:"password",type:"password",required:""},domProps:{value:e.form.newPassword},on:{input:function(t){t.target.composing||e.$set(e.form,"newPassword",t.target.value)}}})]),a("div",{staticClass:"row margin-top-30"},[a("div",{staticClass:"col-xs-12 text-right"},[a("uiv-btn",{attrs:{type:"primary",disabled:e.loader},on:{click:e.onSubmit}},[e._v("Change Password")])],1)])])])],1)])},fe=[],ve={name:"ChangePassword",data:function(){return{loader:!0,form:{newPassword:""}}},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$route.params.resetToken,t.next=3,e.$store.dispatch("auth/resetPassword",a);case 3:e.loader=!1;case 4:case"end":return t.stop()}}),t)})))()},methods:{onSubmit:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$route.params.resetToken,e.loader=!0,t.next=4,e.$store.dispatch("auth/changePassword",{newPassword:e.form.newPassword,token:a});case 4:e.loader=!1;case 5:case"end":return t.stop()}}),t)})))()}},components:{Card:Z}},we=ve,be=(a("59db"),Object(h["a"])(we,ge,fe,!1,null,"6e184744",null)),_e=be.exports,xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("uiv-modal",{ref:"modal",attrs:{title:"Add To Watch List",size:"sm",footer:!1},model:{value:e.addModal,callback:function(t){e.addModal=t},expression:"addModal"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("add-to-watchlist",{ref:"addToWatchlist",attrs:{show:e.selectedShow},on:{done:function(t){e.addModal=!1}}})],1)])]),a("uiv-modal",{ref:"deleteModal",attrs:{title:"Confirm","ok-text":"Yes",size:"sm"},on:{show:function(t){e.deleteModal.showTypeId=e.showTypeList[0].id},hide:e.onDelete},model:{value:e.deleteModal.show,callback:function(t){e.$set(e.deleteModal,"show",t)},expression:"deleteModal.show"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("h4",{staticClass:"margin-top-0 margin-bottom-20"},[e._v(" Are you sure you want to delete this show? ")]),a("div",{staticClass:"margin-bottom-30"},[a("label",[e._v("Place Show In:")]),a("switch-group",{attrs:{id:"showType","value-key":"id",options:e.showTypeList},model:{value:e.deleteModal.showTypeId,callback:function(t){e.$set(e.deleteModal,"showTypeId",t)},expression:"deleteModal.showTypeId"}})],1)])])]),e.watching.length>6?a("pager",{attrs:{"current-page":e.currentPage,"total-pages":e.totalPages}}):e._e(),a("div",{staticClass:"container-fluid fade-in"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 margin-bottom-30"},[a("search-shows",{on:{onSelect:e.onSelect}})],1),e._l(e.watching,(function(t){return a("div",{key:t._id,staticClass:"col-xs-12 col-sm-6 col-md-3"},[a("watchlist-card",{attrs:{heading:t.show.name,id:t._id,data:t,"img-src":t.show.image.original},on:{onDelete:function(t){e.deleteModal.show=!0,e.deleteModal.watchingId=t},onRefresh:e.onRefresh}})],1)}))],2),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12"},[a("loader",{attrs:{show:e.requesting}})],1)]),a("reached-end",{attrs:{show:e.reachedEnd}},[e._v(" Reached End ")]),e.requesting||0!=e.watching.length?e._e():a("no-content",{attrs:{message:"Your watch list is empty!"}})],1)],1)},Oe=[],Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"watchlist-card",style:{"background-image":"url("+e.imgSrc+")"},attrs:{tabindex:"0"}},[a("button",{staticClass:"icon-button red dripicons-trash",attrs:{type:"button"},on:{click:function(t){return e.$emit("onDelete",e.id)}}}),a("button",{directives:[{name:"uiv-tooltip",rawName:"v-uiv-tooltip",value:"Refresh",expression:"'Refresh'"}],staticClass:"icon-button dripicons-clockwise",attrs:{type:"button"},on:{click:function(t){return e.$emit("onRefresh",e.data.show._id)}}}),a("h2",[e._v(e._s(e.heading))]),a("h4",[e._v(e._s(e.data.episode?e.data.episode.name:""))]),a("h5",[e._v("On "+e._s(e.data.episode?"Season "+e.data.episode.season.number+" Episode "+e.data.episode.number:""))]),a("behind-count-button",{attrs:{count:e.data.behindCount,open:e.open},on:{click:e.toggleOpen}}),a("slide-out-panel",{attrs:{open:e.open}},[a("tabs",[e._l(e.data.show.seasons,(function(t){return a("tab-button",{key:t._id,attrs:{slot:"tab-buttons",name:e.tabButtonName(t.number),active:e.isTabSelected(t)},on:{click:function(a){return e.tabSelect(t)}},slot:"tab-buttons"})})),a("tab-panels-container",{attrs:{slot:"tab-panels-container",active:e.tabActive},slot:"tab-panels-container"},e._l(e.data.show.seasons,(function(t){return a("tab-panel",{key:t._id,attrs:{active:e.isTabSelected(t),number:t.number}},e._l(t.episodes,(function(t){return a("panel-row",{key:t._id,attrs:{"watching-id":e.id,number:t.number,title:t.name,watched:t.watched,released:t.airdate,tags:t.tags},on:{click:function(a){return e.watched(t)},onOpen:function(a){return e.onGetTags(a,t)},tag:function(a){return e.onTag(a,t)}}})})),1)})),1)],2)],1)],1)])},Se=[],ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"slide-out-panel",class:{open:e.open}},[e._t("default")],2)},Te=[],Ee={name:"SlideOutPanel",props:{open:Boolean}},Pe=Ee,je=(a("5e96"),Object(h["a"])(Pe,ke,Te,!1,null,null,null)),Re=je.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"tabs"},[e._t("tab-buttons")],2),a("div",{staticClass:"tab-panels"},[e._t("tab-panels-container")],2)])},Ie=[],$e={name:"Tabs"},Me=$e,We=(a("267c"),Object(h["a"])(Me,ye,Ie,!1,null,null,null)),Ne=We.exports,De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"tab-button",class:{active:e.active},attrs:{type:"button",name:"button"},on:{click:function(t){return e.$emit("click")}}},[e._v(e._s(e.name)+" ")])},Ge=[],Ae={name:"TabButton",props:{name:String,active:Boolean}},qe=Ae,Le=(a("79f7"),Object(h["a"])(qe,De,Ge,!1,null,null,null)),He=Le.exports,Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab-panel",class:{active:e.active},style:{left:e.position(),width:e.panelWidth()}},[e._t("default")],2)},ze=[],Be={name:"TabPanel",data:function(){return{width:320}},props:{active:Boolean,number:Number},methods:{position:function(){return"".concat(this.width*this.number,"px")},panelWidth:function(){return"".concat(this.width,"px")}},beforeUpdate:function(){this.width=this.$parent.clientWidth}},Ue=Be,Ve=(a("8d3b"),Object(h["a"])(Ue,Fe,ze,!1,null,null,null)),Ye=Ve.exports,Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"panels_container",staticClass:"tab-panels-container",style:{width:e.panelsWidth,transform:e.moveTo()}},[e._t("default")],2)},Je=[],Qe={name:"TabPanelsContainer",props:{active:Number},data:function(){return{clientWidth:0,panelsWidth:"100%"}},methods:{tabPanelWidth:function(){var e=this.$refs.panels_container.children.length;return"".concat(this.clientWidth*e,"px")},moveTo:function(){return"translate3d(-".concat(this.clientWidth*this.active,"px, 0, 0)")}},mounted:function(){this.clientWidth=this.$refs.panels_container.clientWidth,this.panelsWidth=this.tabPanelWidth(),this.$emit("TabPanelWidth",this.clientWidth)}},Xe=Qe,Ze=(a("7f25"),Object(h["a"])(Xe,Ke,Je,!1,null,null,null)),et=Ze.exports,tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"panel-row",class:{disabled:!e.watched,open:e.open},attrs:{tabindex:"0"}},[a("div",{staticClass:"row row-1"},[a("div",{staticClass:"col-xs-3 col-1"},[a("span",{staticClass:"aired-by"},[a("i",{staticClass:"dripicons-feed"}),e._v(" "+e._s(e.aired(e.released).by)+" ")])]),a("div",{staticClass:"col-xs-9 col-2"},[a("div",{staticClass:"title"},[a("small",[e._v("Episode "+e._s(e.number)),a("br")]),e._v(" "+e._s(e.title?e.title:"-")+" ")])])]),a("div",{staticClass:"row"},e._l(e.tags,(function(t){return a("div",{key:t.id,staticClass:"col-xs-4"},[a("button",{staticClass:"status",class:{active:t.active},on:{click:function(a){return e.$emit("tag",t)}}},[e._v(" "+e._s(t.label)+" ")])])})),0),a("span",{staticClass:"dripicons-plus",class:{open:e.open},on:{click:e.onOpen}}),a("span",{staticClass:"dripicons-preview",class:{active:e.watched},on:{click:function(t){return e.$emit("click")}}})])])},at=[],nt={name:"PanelRow",data:function(){return{timeNow:(new Date).getTime(),open:!1}},computed:Object(i["a"])({},Object(d["c"])({episodeTagsList:function(e){var t=e.lookups;return t.episodeTags}})),props:{watchingId:String,number:Number,title:String,watched:Boolean,released:String,tags:Array},methods:{onOpen:function(){this.open=!this.open,this.$emit("onOpen",this.open)},aired:function(e){e=new Date(e).getTime();var t=Math.abs(e-this.timeNow)/1e3,a=e-this.timeNow<0,n={isAired:a};return a?(n.by="- ".concat(Math.ceil(t/86400)," days"),Math.ceil(t/86400)>30&&(n.by="aired")):n.by="not aired",n}}},rt=nt,st=(a("94c0"),Object(h["a"])(rt,tt,at,!1,null,null,null)),ot=st.exports,it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"more-button",class:{open:e.open,"up-to-date":!e.count},attrs:{type:"button",name:"more"},on:{click:function(t){return e.$emit("click")}}},[a("span",{staticClass:"dripicons-plus"}),a("span",{staticClass:"behind"},[e._v(e._s(e.count))])])},ct=[],ut={name:"BehindCountButton",props:{open:Boolean,count:Number}},lt=ut,dt=(a("e67d"),Object(h["a"])(lt,it,ct,!1,null,null,null)),pt=dt.exports,mt={name:"WatchlistCard",props:{heading:String,id:String,data:Object,imgSrc:String},data:function(){return{open:!1,tabActive:1}},methods:{toggleOpen:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.open=!e.open,a=e.data.episode,!e.open){t.next=5;break}return t.next=5,e.tabSelect(e.data.show.seasons[a.season.number-1]);case 5:case"end":return t.stop()}}),t)})))()},onGetTags:function(e,t){var a=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e){n.next=4;break}return n.next=3,a.$store.dispatch("watching/getEpisodeTags",{watchingId:a.id,episode:t});case 3:a.$forceUpdate();case 4:case"end":return n.stop()}}),n)})))()},onTag:function(e,t){var a=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.$store.dispatch("watching/toggleTag",{watchingId:a.id,tagId:e.id,episode:t});case 2:a.$forceUpdate();case 3:case"end":return n.stop()}}),n)})))()},tabButtonName:function(e){return e<10?"S0".concat(e):"S".concat(e)},tabSelect:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("watching/getEpisodes",{watchingId:t.id,seasonId:e._id});case 2:t.tabActive=e.number,t.$forceUpdate();case 4:case"end":return a.stop()}}),a)})))()},isTabSelected:function(e){var t=e.number;return this.tabActive==t},watched:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("watching/toggleWatched",{watchingId:t.id,episode:e});case 2:t.$forceUpdate();case 3:case"end":return a.stop()}}),a)})))()}},components:{SlideOutPanel:Re,Tabs:Ne,TabButton:He,TabPanel:Ye,TabPanelsContainer:et,PanelRow:ot,BehindCountButton:pt}},ht=mt,gt=(a("2c29"),Object(h["a"])(ht,Ce,Se,!1,null,null,null)),ft=gt.exports,vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"no-content"},[a("h1",[e._v(e._s(e.message))])])},wt=[],bt={name:"NoContent",props:{message:String}},_t=bt,xt=(a("5f8e"),Object(h["a"])(_t,vt,wt,!1,null,null,null)),Ot=xt.exports,Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"popup-background",class:{open:e.popupOpen},on:{click:function(t){return e.close("dismiss")}}},[a("div",{staticClass:"popup-content",on:{click:function(e){e.stopPropagation()}}},[a("h4",{staticClass:"popup-title"},[e._v(e._s(e.title))]),a("button",{staticClass:"close-button",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.close("dismiss")}}},[a("span",{staticClass:"dripicons-cross"})]),a("div",{staticClass:"popup-container"},[e._t("default")],2)])])},St=[],kt={name:"Popup",data:function(){return{popupOpen:!1}},props:{title:String,size:String},methods:{open:function(){var e=this;return this.$emit("open"),this.popupOpen=!0,new Promise((function(t){e.close=function(a){e.popupOpen=!1,e.$emit("close"),t(a)}}))}}},Tt=kt,Et=(a("8160"),Object(h["a"])(Tt,Ct,St,!1,null,null,null)),Pt=Et.exports,jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.options.length>0?a("div",{staticClass:"switch-group",class:{dark:e.dark}},e._l(e.options,(function(t){return a("div",{key:t.id,staticClass:"switch-group-item",class:{active:t[e.valueKey]==e.model},style:{width:100/e.options.length+"%"}},[a("label",{attrs:{for:t.label}},[a("input",{attrs:{type:"radio",id:t.label,name:t.label},domProps:{value:t[e.valueKey],checked:t[e.valueKey]==e.model},on:{input:function(a){e.$emit("input",t[e.valueKey]),e.model=t[e.valueKey]}}}),e._v(" "+e._s(t.label)+" ")])])})),0):e._e()},Rt=[],yt={name:"SwitchGroup",props:{dark:Boolean,value:String,options:Array,labelKey:{type:String,default:"label"},valueKey:{type:String,default:"label"}},data:function(){return{model:this.value}},create:function(){this.model=this.value},watch:{value:function(e){this.model=e}}},It=yt,$t=(a("b311"),Object(h["a"])(It,jt,Rt,!1,null,null,null)),Mt=$t.exports,Wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{on:{submit:function(t){return t.preventDefault(),e.findShow.apply(null,arguments)}}},[a("div",{staticClass:"form-element search dark"},[e.showsFound.length>0?a("button",{staticClass:"dripicons-cross",attrs:{type:"button"},on:{click:e.empty}}):e._e(),a("loader",{attrs:{show:e.requesting}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.showName,expression:"form.showName"}],staticClass:"show-search",attrs:{type:"text",name:"showName",placeholder:"Track a show"},domProps:{value:e.form.showName},on:{input:function(t){t.target.composing||e.$set(e.form,"showName",t.target.value)}}}),a("button",{staticClass:"dripicons-search",attrs:{type:"submit",disabled:e.requesting}}),a("div",{staticClass:"search-results",class:{show:e.showsFound}},e._l(e.showsFound,(function(t){return a("search-result-item",{key:t.id,attrs:{poster:t.image.medium,title:t.name,year:t.premiered,disabled:e.requesting},on:{click:function(a){return e.addSeries(t)}}})})),1)],1)])},Nt=[],Dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-result-item"},[a("div",{staticClass:"item img"},[a("div",{staticClass:"image",style:{"background-image":"url("+e.poster+")"}})]),a("div",{staticClass:"item name"},[a("h4",{staticClass:"margin-top-0 margin-bottom-0"},[e._v(e._s(e.title))]),a("small",[e._v(e._s(e.year))]),e.plot?a("p",{staticClass:"margin-top-10 margin-bottom-0"},[e._v(e._s(e.plot))]):e._e(),a("div",{staticClass:"margin-top-10 text-right"},[a("uiv-btn",{attrs:{type:"primary",disabled:e.disabled},on:{click:function(t){return e.$emit("click")}}},[e._v("Add to Collection ")])],1)])])},Gt=[],At={name:"SearchResultItem",props:{poster:String,title:String,plot:String,year:String,disabled:Boolean}},qt=At,Lt=(a("4869"),Object(h["a"])(qt,Dt,Gt,!1,null,null,null)),Ht=Lt.exports,Ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("div",{staticClass:"loader"},[e._v("Loading...")]):e._e()},zt=[],Bt={name:"Loader",props:{show:{type:Boolean,default:!1}}},Ut=Bt,Vt=(a("cd03"),Object(h["a"])(Ut,Ft,zt,!1,null,null,null)),Yt=Vt.exports,Kt={name:"SearchShows",data:function(){return{form:{showName:""},requesting:!1}},computed:Object(i["a"])({},Object(d["c"])({showsFound:function(e){var t=e.shows;return t.showsFound}})),methods:{findShow:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.requesting=!0,t.next=3,e.$store.dispatch("shows/showsGet",e.form.showName);case 3:e.requesting=!1;case 4:case"end":return t.stop()}}),t)})))()},addSeries:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.requesting=!0,a.next=3,t.$store.dispatch("shows/save",e);case 3:n=a.sent,t.$emit("onSelect",n),t.requesting=!1,t.empty();case 7:case"end":return a.stop()}}),a)})))()},empty:function(){this.form.showName="",this.$store.dispatch("shows/reset")}},components:{SearchResultItem:Ht,Loader:Yt}},Jt=Kt,Qt=(a("0d17"),Object(h["a"])(Jt,Wt,Nt,!1,null,null,null)),Xt=Qt.exports,Zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{attrs:{name:"form"}},[a("div",{staticClass:"form-element"},[a("label",{attrs:{for:"series"}},[e._v("Series Name")]),e._v(" "+e._s(e.show.name)+" ")]),e.show._id?a("div",{staticClass:"form-element"},[a("label",{attrs:{for:"seasons"}},[e._v("Seasons")]),a("div",{staticClass:"select-series"},e._l(e.show.seasons,(function(t){return a("div",{key:t._id,staticClass:"col-xs-3"},[a("label",{staticClass:"radio",class:{selected:e.form.seasonId==t._id}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.seasonId,expression:"form.seasonId"}],attrs:{type:"radio"},domProps:{value:t._id,checked:e._q(e.form.seasonId,t._id)},on:{change:function(a){return e.$set(e.form,"seasonId",t._id)}}}),e._v(e._s(t.number)+" ")])])})),0)]):e._e(),e.form.seasonId?a("div",{staticClass:"form-element"},[a("label",{attrs:{for:"seasons"}},[e._v("Episodes")]),a("div",{staticClass:"select-series"},[e._l(e.findEpisodes(e.form.seasonId),(function(t){return a("div",{key:t._id,staticClass:"col-xs-3"},[a("label",{staticClass:"radio",class:{selected:e.form.episodeId==t._id}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.episodeId,expression:"form.episodeId"}],attrs:{type:"radio"},domProps:{value:t._id,checked:e._q(e.form.episodeId,t._id)},on:{change:function(a){return e.$set(e.form,"episodeId",t._id)}}}),e._v(e._s(t.number)+" ")])])})),a("span",{staticClass:"selected-none",class:{selected:!e.form.seasonId}},[e._v("Select a episode")])],2)]):e._e(),a("div",{staticClass:"text-right"},[a("uiv-btn",{attrs:{type:"primary",disabled:!e.form.seasonId||!e.form.episodeId},on:{click:function(t){return e.add(e.form)}}},[e._v("Add ")])],1)])},ea=[],ta=(a("7db0"),{name:"AddToWatchlist",data:function(){return{form:{seasonId:"",episodeId:""},today:(new Date).getTime()}},props:{show:Object},methods:{add:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("watching/addToWatching",{episodeId:e.form.episodeId,showId:e.show._id});case 2:e.form={seasonId:"",episodeId:""},e.$emit("done");case 4:case"end":return t.stop()}}),t)})))()},findEpisodes:function(e){var t=this.show.seasons.find((function(t){return t._id===e}));return t?t.episodes:[]}}}),aa=ta,na=Object(h["a"])(aa,Zt,ea,!1,null,null,null),ra=na.exports,sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pager"},[e._v(" "+e._s(e.currentPage)+"/"+e._s(e.totalPages)+" ")])},oa=[],ia={name:"Pager",props:{currentPage:{type:Number,default:1},totalPages:{type:Number,default:2}}},ca=ia,ua=(a("c707"),Object(h["a"])(ca,sa,oa,!1,null,null,null)),la=ua.exports,da=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("div",{staticClass:"reached-end"},[e._t("default")],2):e._e()},pa=[],ma={name:"ReachedEnd",props:{show:{type:Boolean,default:!1}}},ha=ma,ga=(a("6794"),Object(h["a"])(ha,da,pa,!1,null,null,null)),fa=ga.exports,va={name:"Watching",data:function(){return{addModal:!1,deleteModal:{show:!1,watchingId:null,showTypeId:null},selectedShow:{title:""}}},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("lookups/getEpisodeTags");case 2:return t.next=4,e.$store.dispatch("lookups/getShowTypes");case 4:return t.next=6,e.$store.dispatch("watching/getWatching",{currentPage:1});case 6:e.initScroll();case 7:case"end":return t.stop()}}),t)})))()},computed:Object(i["a"])({},Object(d["c"])({watching:function(e){var t=e.watching;return t.watching},episodeTagsList:function(e){var t=e.lookups;return t.episodeTags},showTypeList:function(e){var t=e.lookups;return t.showTypes},currentPage:function(e){var t=e.watching;return t.currentPage},totalPages:function(e){var t=e.watching;return t.totalPages},reachedEnd:function(e){var t=e.watching,a=t.pageSize,n=t.currentPage,r=t.totalPages;return!(t.watching.length<a)&&r==n},requesting:function(e){var t=e.watching;return t.requesting}})),methods:{onSelect:function(e){this.selectedShow=e,this.addModal=!0},onDelete:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("ok"!=e){a.next=6;break}return n=t.deleteModal,r=n.watchingId,s=n.showTypeId,a.next=4,t.$store.dispatch("watching/deleteWatching",{id:r,showTypeId:s});case 4:return a.next=6,t.$store.dispatch("watching/getWatching",{currentPage:1});case 6:case"end":return a.stop()}}),a)})))()},onRefresh:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("shows/updateShow",e);case 2:t.$store.dispatch("watching/getWatching",{currentPage:t.currentPage});case 3:case"end":return a.stop()}}),a)})))()},initScroll:function(){var e=this;window.onscroll=function(){var t=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;t&&e.$store.dispatch("watching/getWatching",{currentPage:e.currentPage+1})}}},components:{WatchlistCard:ft,NoContent:Ot,Popup:Pt,SwitchGroup:Mt,SearchShows:Xt,AddToWatchlist:ra,Loader:Yt,Pager:la,ReachedEnd:fa}},wa=va,ba=Object(h["a"])(wa,xe,Oe,!1,null,null,null),_a=ba.exports,xa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("uiv-modal",{ref:"deleteModal",attrs:{title:"Confirm","ok-text":"Yes",size:"sm"},on:{hide:e.onDelete},model:{value:e.deleteModal.show,callback:function(t){e.$set(e.deleteModal,"show",t)},expression:"deleteModal.show"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("h4",{staticClass:"margin-top-0 margin-bottom-20"},[e._v(" Are you sure you want to delete this watched show? ")])])])]),a("uiv-modal",{ref:"tagsModal",attrs:{title:"Tags",footer:!1,size:"sm"},model:{value:e.tagsModal.show,callback:function(t){e.$set(e.tagsModal,"show",t)},expression:"tagsModal.show"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("ul",{staticClass:"list-group"},e._l(e.tagsModal.data,(function(t,n){return a("li",{key:n,staticClass:"list-group-item"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-4"},[e._v(" "+e._s(t.y)+" ")]),a("div",{staticClass:"col-xs-8 text-right"},[e._v(" "+e._s(t.x)+" ")])])])})),0)])])]),e.watchedShows.length>15?a("pager",{attrs:{"current-page":e.currentPage,"total-pages":e.totalPages}}):e._e(),a("div",{staticClass:"container fade-in"},[a("div",{staticClass:"row margin-bottom-20"},[a("div",{staticClass:"col-sm-5 col-md-4"},[a("switch-group",{attrs:{dark:"",options:e.showTypeList},on:{input:e.onChangeTab},model:{value:e.filter.sort,callback:function(t){e.$set(e.filter,"sort",t)},expression:"filter.sort"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 text-right margin-bottom-20"},[a("button",{staticClass:"btn btn-xs btn-ghost",attrs:{type:"button",disabled:e.refreshing},on:{click:e.onRefresh}},[a("loader",{attrs:{show:e.refreshing}}),e._v(" "+e._s(e.refreshing?"":"Refresh")+" ")],1)]),e._l(e.watchedShows,(function(t){return a("div",{key:t._id,staticClass:"col-sm-6 col-md-4"},[a("watched-show-card",{attrs:{data:t},on:{onDelete:function(t){e.deleteModal.show=!0,e.deleteModal.showId=t},onClick:e.onTags}})],1)}))],2),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12"},[a("loader",{attrs:{show:e.requesting}})],1)]),a("reached-end",{attrs:{show:e.reachedEnd}},[e._v(" Reached End ")]),e.requesting||0!=e.watchedShows.length?e._e():a("no-content",{attrs:{message:"You haven't watched any shows yet!"}})],1)],1)},Oa=[],Ca=(a("4de4"),a("d81d"),a("99af"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{on:{click:function(t){return t.stopPropagation(),e.$emit("onClick",e.data)}}},[a("card",{staticClass:"watched-show-card margin-bottom-20",attrs:{tabindex:"0"}},[a("div",{directives:[{name:"uiv-tooltip",rawName:"v-uiv-tooltip",value:"Show "+e.data.status,expression:"`Show ${data.status}`"}],staticClass:"status-dot",class:{ended:"Ended"==e.data.status,running:"Running"==e.data.status||"To Be Determined"==e.data.status}}),a("div",{staticClass:"content"},[a("div",{staticClass:"bar"},[a("progress-bar",{directives:[{name:"uiv-tooltip",rawName:"v-uiv-tooltip",value:"Progress",expression:"'Progress'"}],attrs:{percentage:e.data.percentage,tags:e.data.tagPositions}})],1),a("div",{staticClass:"text-ellipsis"},[a("h3",{staticClass:"margin-bottom-0 text-ellipsis"},[e._v(e._s(e.data.name))]),e._v(" "+e._s(e.data.on.name)+" ")]),a("div",{staticClass:"margin-top-10"},[a("small",[a("span",{staticClass:"visible-sm"},[e._v(e._s(e.onEpisode(e.data.on,!0)))]),a("span",{staticClass:"hidden-sm"},[e._v(e._s(e.onEpisode(e.data.on)))])])])]),100==e.data.percentage?a("span",{staticClass:"status green"},[e._v(" "+e._s("Running"==e.data.status?"Up To Date":"Complete")+" ")]):e._e(),a("button",{directives:[{name:"uiv-tooltip",rawName:"v-uiv-tooltip",value:"Delete",expression:"'Delete'"}],staticClass:"icon-button red dripicons-trash",attrs:{tabindex:"0"},on:{click:function(t){return t.stopPropagation(),e.$emit("onDelete",e.data.showId)}}}),a("button",{directives:[{name:"uiv-tooltip",rawName:"v-uiv-tooltip",value:"Rewatch",expression:"'Rewatch'"}],staticClass:"icon-button dripicons-clockwise",class:{count:e.data.watchedCount>0},attrs:{tabindex:"0"},on:{click:function(t){return t.stopPropagation(),e.onRewatching()}}},[a("div",{directives:[{name:"uiv-tooltip",rawName:"v-uiv-tooltip",value:"Rewatch Count",expression:"'Rewatch Count'"}],staticClass:"watched-count"},[e._v(e._s(e.data.watchedCount))])]),a("button",{directives:[{name:"uiv-tooltip",rawName:"v-uiv-tooltip",value:"Continue",expression:"'Continue'"}],staticClass:"icon-button dripicons-media-play",attrs:{tabindex:"0",disabled:100==e.data.percentage},on:{click:function(t){return t.stopPropagation(),e.onContinue()}}}),a("div",{staticClass:"poster",style:{"background-image":"url("+e.data.poster+")"}})])],1)}),Sa=[],ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"progress-bar-container"},[a("div",{staticClass:"progress",style:{width:e.percentage+"%"}}),e._l(e.tags,(function(e,t){return a("span",{directives:[{name:"uiv-tooltip",rawName:"v-uiv-tooltip",value:"Tags",expression:"'Tags'"}],key:t,staticClass:"spot",style:{left:e+"%"}})}))],2)},Ta=[],Ea={name:"ProgressBar",props:{percentage:{type:Number,default:0},tags:{type:Array,default:function(){return[]}}}},Pa=Ea,ja=(a("0f16"),Object(h["a"])(Pa,ka,Ta,!1,null,null,null)),Ra=ja.exports,ya={name:"WatchedShowCard",props:{data:Object},methods:{onContinue:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("watchedShows/continueWatching",e.data);case 2:a=t.sent,a&&e.$router.push({name:"watching"});case 4:case"end":return t.stop()}}),t)})))()},onRewatching:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("watchedShows/rewatching",e.data);case 2:a=t.sent,a&&e.$router.push({name:"watching"});case 4:case"end":return t.stop()}}),t)})))()},onUpdate:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("shows/updateShow",e.data.showId);case 2:case"end":return t.stop()}}),t)})))()},onEpisode:function(e,t){return t?"S".concat(e.season<9?0:"").concat(e.season," E").concat(e.episode<9?0:"").concat(e.episode):"Season ".concat(e.season," Episode ").concat(e.episode)}},components:{Card:Z,ProgressBar:Ra}},Ia=ya,$a=(a("ed2f"),Object(h["a"])(Ia,Ca,Sa,!1,null,null,null)),Ma=$a.exports,Wa={name:"Watched",data:function(){return{deleteModal:{show:!1,showId:null},tagsModal:{show:!1,data:[]},refreshing:!1}},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.dispatch("watchedShows/getWatchedShows",{currentPage:1}),t.next=3,e.$store.dispatch("lookups/getEpisodeTags");case 3:return t.next=5,e.$store.dispatch("lookups/getShowTypes");case 5:e.initScroll();case 6:case"end":return t.stop()}}),t)})))()},computed:Object(i["a"])({},Object(d["c"])({watchedShows:function(e){var t=e.watchedShows;return t.watchedShows},currentPage:function(e){var t=e.watchedShows;return t.currentPage},totalPages:function(e){var t=e.watchedShows;return t.totalPages},showTypeList:function(e){var t=e.lookups;return t.showTypes},episodeTagsList:function(e){var t=e.lookups;return t.episodeTags},showEpisodesTags:function(e){var t=e.shows;return t.showEpisodesTags},filter:function(e){var t=e.watchedShows;return t.filter},reachedEnd:function(e){var t=e.watchedShows,a=t.pageSize,n=t.currentPage,r=t.totalPages;return!(t.watchedShows.length<a)&&r==n},requesting:function(e){var t=e.watchedShows;return t.requesting}})),methods:{onChangeTab:function(){this.$store.dispatch("watchedShows/getWatchedShows",{currentPage:1})},onDelete:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("ok"!=e){a.next=6;break}return n=t.deleteModal.showId,a.next=4,t.$store.dispatch("watchedShows/deleteFromWatchedShows",{showId:n});case 4:return a.next=6,t.$store.dispatch("watchedShows/getWatchedShows",{currentPage:1});case 6:case"end":return a.stop()}}),a)})))()},onTags:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.showId,a.next=3,t.$store.dispatch("shows/showsEpisodesTagsGet",n);case 3:if(r=function(e){return e<10?"0".concat(e):e},s=t.showEpisodesTags.map((function(e){var t=e.name,a=e.episode;return{x:t,y:"S".concat(r(a.season.number),"E").concat(r(a.number))}})),0!=s.length){a.next=7;break}return a.abrupt("return");case 7:t.tagsModal.show=!0,t.tagsModal.data=s;case 9:case"end":return a.stop()}}),a)})))()},onRefresh:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.refreshing=!0,t.next=3,e.$store.dispatch("shows/updateShows");case 3:e.refreshing=!1;case 4:case"end":return t.stop()}}),t)})))()},initScroll:function(){var e=this;window.onscroll=function(){var t=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;t&&e.$store.dispatch("watchedShows/getWatchedShows",{currentPage:e.currentPage+1})}}},components:{NoContent:Ot,WatchedShowCard:Ma,SwitchGroup:Mt,Loader:Yt,Pager:la,ReachedEnd:fa}},Na=Wa,Da=Object(h["a"])(Na,xa,Oa,!1,null,null,null),Ga=Da.exports,Aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("uiv-modal",{ref:"deleteModal",attrs:{title:"Confirm","ok-text":"Yes",size:"sm"},on:{hide:e.onDelete},model:{value:e.deleteModal.show,callback:function(t){e.$set(e.deleteModal,"show",t)},expression:"deleteModal.show"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("h4",{staticClass:"margin-top-0 margin-bottom-20"},[e._v(" Are you sure you want to delete this movie? ")])])])]),e.collection.length>15?a("pager",{attrs:{"current-page":e.currentPage,"total-pages":e.totalPages}}):e._e(),a("div",{staticClass:"container-fluid fade-in"},[a("div",{staticClass:"row margin-bottom-20"},[a("div",{staticClass:"col-xs-12"},[a("search-movies")],1)]),a("div",{staticClass:"row show-layout"},e._l(e.collection,(function(t){return a("div",{key:t._id,staticClass:"col-xs-6 col-sm-3 col-md-2"},[a("movie-card",{attrs:{heading:t.movie.title,"img-src":t.movie.poster,"movie-id":t.movie._id,id:t._id,deleteable:!0},on:{onDelete:function(t){e.deleteModal.show=!0,e.deleteModal.id=t}}})],1)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12"},[a("loader",{attrs:{show:e.requesting}})],1)]),a("reached-end",{attrs:{show:e.reachedEnd}},[e._v(" Reached End ")]),0==e.collection.length?a("no-content",{attrs:{message:"Your movie collection is empty!"}}):e._e()],1)],1)},qa=[],La=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{on:{submit:function(t){return t.preventDefault(),e.findShow.apply(null,arguments)}}},[a("div",{staticClass:"form-element search dark"},[e.moviesFound.length>0?a("button",{staticClass:"dripicons-cross",attrs:{type:"button"},on:{click:e.empty}}):e._e(),a("loader",{attrs:{show:e.requesting}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",name:"name",placeholder:"'Movie Name, Year'"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),a("button",{staticClass:"dripicons-search",attrs:{type:"submit",disabled:e.requesting}}),a("div",{staticClass:"search-results",class:{show:e.moviesFound}},e._l(e.moviesFound,(function(t,n){return a("search-result-item",{key:n,attrs:{poster:t.Poster,title:t.Title,plot:t.Plot,year:t.Year,disabled:e.requesting},on:{click:function(a){return e.addMovie(t)}}})})),1)],1)])},Ha=[],Fa={name:"SearchMovies",data:function(){return{name:"",requesting:!1}},computed:Object(i["a"])({},Object(d["c"])({moviesFound:function(e){var t=e.movies;return t.moviesFound}})),methods:{addMovie:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("movieCollection/saveToMovieCollectionMovie",e);case 2:t.empty();case 3:case"end":return a.stop()}}),a)})))()},findShow:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.requesting=!0,t.next=3,e.$store.dispatch("movies/movieGet",e.name);case 3:e.requesting=!1;case 4:case"end":return t.stop()}}),t)})))()},empty:function(){this.name="",this.$store.dispatch("movies/reset")}},components:{SearchResultItem:Ht,Loader:Yt}},za=Fa,Ba=(a("9906"),Object(h["a"])(za,La,Ha,!1,null,null,null)),Ua=Ba.exports,Va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"movie-card",class:{deleteable:e.deleteable},style:{"background-image":"url("+e.imgSrc+")"},attrs:{tabindex:"0"},on:{click:function(t){return t.stopPropagation(),e.goToMovieDetails(e.movieId)}}},[a("button",{staticClass:"icon-button red dripicons-trash",attrs:{tabindex:"0"},on:{click:function(t){return t.stopPropagation(),e.$emit("onDelete",e.id)}}}),a("h2",[e._v(e._s(e.heading))])])},Ya=[],Ka={name:"MovieCard",props:{heading:String,imgSrc:String,movieId:String,id:String,deleteable:Boolean},methods:{goToMovieDetails:function(e){this.$router.push({name:"movieDetails",params:{movieId:e}})}}},Ja=Ka,Qa=(a("2151"),Object(h["a"])(Ja,Va,Ya,!1,null,null,null)),Xa=Qa.exports,Za={name:"MovieCollection",data:function(){return{deleteModal:{show:!1,showId:null}}},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("movieCollection/getMovieCollection",{currentPage:1});case 2:e.initScroll();case 3:case"end":return t.stop()}}),t)})))()},computed:Object(i["a"])({},Object(d["c"])({collection:function(e){var t=e.movieCollection;return t.collection},currentPage:function(e){var t=e.movieCollection;return t.currentPage},totalPages:function(e){var t=e.movieCollection;return t.totalPages},reachedEnd:function(e){var t=e.movieCollection,a=t.collection,n=t.pageSize,r=t.currentPage,s=t.totalPages;return!(a.length<n)&&s==r},requesting:function(e){var t=e.movieCollection;return t.requesting}})),methods:{onDelete:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("ok"!=e){a.next=4;break}return n=t.deleteModal.id,a.next=4,t.$store.dispatch("movieCollection/deleteFromMovieCollection",n);case 4:case"end":return a.stop()}}),a)})))()},initScroll:function(){var e=this;window.onscroll=function(){var t=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;t&&e.$store.dispatch("movieCollection/getMovieCollection",{currentPage:e.currentPage+1})}}},components:{Popup:Pt,SearchMovies:Ua,MovieCard:Xa,NoContent:Ot,Loader:Yt,Pager:la,ReachedEnd:fa}},en=Za,tn=Object(h["a"])(en,Aa,qa,!1,null,null,null),an=tn.exports,nn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"poster-xl-bg-container"},[a("div",{staticClass:"container fade-in"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12"},[a("div",{staticClass:"movie-details"},[a("div",{staticClass:"col-sm-12"},[a("h1",[e._v(" "+e._s(e.movieDetails.title)+" "),a("span",{staticClass:"runtime"},[e._v(e._s(e.movieDetails.runtime))]),a("span",{staticClass:"year"},[e._v(e._s(e.movieDetails.year))])]),a("h4",{staticClass:"genre"},[e._v(e._s(e.movieDetails.genre))])]),a("div",{staticClass:"col-sm-6 col-md-5"},[a("p",[e._v(e._s(e.movieDetails.plot))])])])])]),a("div",{staticClass:"row ratings margin-top-50"},e._l(e.movieDetails.ratings,(function(t,n){return a("div",{key:n,staticClass:"col-xs-4"},[a("div",{staticClass:"rating"},[a("p",[e._v(e._s(t.source))]),a("h4",[e._v(e._s(t.value))])])])})),0)]),a("div",{staticClass:"poster-gradient"}),a("img",{staticClass:"poster-background",class:{enter:e.showPoster},attrs:{src:e.movieDetails.posterXL}})])])},rn=[],sn={name:"MovieDetails",data:function(){return{showPoster:!1}},computed:Object(i["a"])({},Object(d["c"])({movieDetails:function(e){var t=e.movies;return t.movieDetails}})),mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$route.params.movieId,t.next=3,e.$store.dispatch("movies/movieDetailsGet",a);case 3:setTimeout((function(){e.showPoster=!0}),500);case 4:case"end":return t.stop()}}),t)})))()}},on=sn,cn=(a("a6dd"),Object(h["a"])(on,nn,rn,!1,null,null,null)),un=cn.exports,ln=a("bc3a"),dn=a.n(ln),pn=dn.a.create({baseURL:"https://to--watch.herokuapp.com"});pn.interceptors.request.use((function(e){var t=es.state.storage.token,a=e.url.indexOf("https://api.tvmaze.com"),n=e.url.indexOf("https://www.omdbapi.com"),r=a<0&&n<0;return t&&r&&(e.headers["Authorization"]="token ".concat(t)),e}),(function(e){return Promise.reject(e)})),pn.interceptors.response.use((function(e){return e}),(function(e){var t=e.response;return 401===t.status&&es.dispatch("auth/signUserOut"),Promise.reject(e.response)}));var mn,hn,gn,fn,vn,wn,bn,_n,xn=pn,On={},Cn={},Sn={signUserIn:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.dispatch,a.prev=1,a.next=4,xn({method:"POST",url:"/login",data:t});case 4:return r=a.sent,a.next=7,n("storage/save",{prop:"token",value:r.data.token},{root:!0});case 7:return a.next=9,n("storage/save",{prop:"user",value:{email:t.email}},{root:!0});case 9:as.push({name:"watching"}),a.next=16;break;case 12:a.prev=12,a.t0=a["catch"](1),s=a.t0.data,n("showToast",{title:"Error",message:s.message},{root:!0});case 16:case"end":return a.stop()}}),a,null,[[1,12]])})))()},signUserOut:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.dispatch,t.next=3,a("storage/reset",null,{root:!0});case 3:as.push({name:"login"});case 4:case"end":return t.stop()}}),t)})))()},register:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.dispatch,a.prev=1,a.next=4,xn({method:"POST",url:"/register",data:t});case 4:r=a.sent,s=r.data,as.push({name:"login"}),n("showToast",{title:"Registered",message:s.message},{root:!0}),a.next=15;break;case 10:a.prev=10,a.t0=a["catch"](1),o=a.t0.data,as.push({name:"login"}),n("showToast",{title:"Error",message:o.message},{root:!0});case 15:case"end":return a.stop()}}),a,null,[[1,10]])})))()},verifyEmail:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.dispatch,a.prev=1,a.next=4,xn({method:"POST",url:"/verify-email",data:{token:t}});case 4:r=a.sent,s=r.data,as.push({name:"login"}),n("showToast",{title:"Email Verified",message:s.message},{root:!0}),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](1),o=a.t0.data,n("showToast",{title:"Error",message:o.message},{root:!0});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))()},forgotPassword:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.dispatch,r=t.email,a.prev=2,a.next=5,xn({method:"POST",url:"/forgot-password",data:{email:r}});case 5:s=a.sent,o=s.data,n("showToast",{title:"Password Reset",message:o.message},{root:!0}),a.next=12;break;case 10:a.prev=10,a.t0=a["catch"](2);case 12:case"end":return a.stop()}}),a,null,[[2,10]])})))()},resetPassword:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.dispatch,a.prev=1,a.next=4,xn({method:"POST",url:"/reset-password",data:{token:t}});case 4:a.sent,a.next=12;break;case 7:a.prev=7,a.t0=a["catch"](1),r=a.t0.data,as.push({name:"login"}),n("showToast",{title:"Error",message:r.message},{root:!0});case 12:case"end":return a.stop()}}),a,null,[[1,7]])})))()},changePassword:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.dispatch,a.prev=1,a.next=4,xn({method:"POST",url:"/change-password",data:t});case 4:r=a.sent,s=r.data,as.push({name:"login"}),n("showToast",{title:"Password Changed",message:s.message},{root:!0}),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](1),o=a.t0.data,n("showToast",{title:"Error",message:o.message},{root:!0});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))()}},kn={},Tn={namespaced:!0,state:On,getters:Cn,actions:Sn,mutations:kn},En=a("ade3"),Pn="SET_MOST_POPULAR_SHOWS",jn="SHOWS_GET",Rn="SHOW_EPISODES_TAGS_GET",yn="SHOWS_RESET",In="WATCHING_SET",$n="WATCHING_GET",Mn="WATCHING_ADD",Wn="WATCHING_DELETE",Nn="WATCHING_TOGGLE_EPISODE_WATCHED",Dn="WATCHING_TOGGLE_TAG",Gn="WATCHING_GET_TAG",An="WATCHING_REQUESTING",qn="WATCHED_SHOWS_REQUESTING",Ln="WATCHED_SHOWS_SET",Hn="WATCHED_SHOWS_GET",Fn="WATCHED_SHOWS_DELETE",zn="MOVIE_GET",Bn="MOVIE_RESET",Un="MOVIE_DETAILS_GET",Vn="MOVIE_COLLECTION_SET",Yn="MOVIE_COLLECTION_GET",Kn="MOVIE_COLLECTION_ADD",Jn="MOVIE_COLLECTION_DELETE",Qn="MOVIE_COLLECTION_REQUESTING",Xn="SEASONS_GET",Zn="EPISODES_GET",er="EPISODE_TAGS_GET",tr="SHOW_TYPES_GET",ar="TOAST_MESSAGE",nr="TOAST_DISMISS",rr="STORAGE_SET",sr="STORAGE_UPDATE",or="STORAGE_RESET",ir={shows:[]},cr={},ur={getMostPopularShows:function(e){var t=e.commit;dn.a.get("https://www.episodate.com/api/most-popular?page=1").then((function(e){t(Pn,e.data.tv_shows)}))}},lr=Object(En["a"])({},Pn,(function(e,t){e.shows=t})),dr={namespaced:!0,state:ir,getters:cr,mutations:lr,actions:ur},pr={showsFound:[],showEpisodesTags:[]},mr={},hr={showsGet:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=e.dispatch,a.prev=1,a.next=4,xn({method:"GET",url:"".concat("https://api.tvmaze.com","/search/shows"),params:{q:t}});case 4:if(s=a.sent,0!=s.data.length){a.next=7;break}return a.abrupt("return",r("showToast",{title:"Not Found",message:"Show could not be found."}));case 7:n(jn,s.data),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](1),o=a.t0.data,r("showToast",{title:"Error.",message:o},{root:!0});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))()},showsEpisodesTagsGet:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=e.dispatch,n("SHOWS_RESET"),a.prev=2,a.next=5,xn({method:"GET",url:"/episode-tags/".concat(t,"/tags")});case 5:s=a.sent,n(Rn,s.data.tags),a.next=13;break;case 9:a.prev=9,a.t0=a["catch"](2),o=a.t0.data,r("showToast",{title:"Error.",message:o},{root:!0});case 13:case"end":return a.stop()}}),a,null,[[2,9]])})))()},save:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.dispatch,a.prev=1,a.next=4,xn({method:"POST",url:"/shows",data:t});case 4:return r=a.sent,s=r.data,a.abrupt("return",s);case 9:a.prev=9,a.t0=a["catch"](1),o=a.t0.data,n("showToast",{title:"Error",message:o.message},{root:!0});case 13:case"end":return a.stop()}}),a,null,[[1,9]])})))()},updateShow:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.dispatch,a.prev=1,a.next=4,xn({method:"POST",url:"/shows/".concat(t,"/update")});case 4:r=a.sent,n("showToast",{title:200==r.status?"Show Updated.":"Show Already Upto Date."},{root:!0}),a.next=12;break;case 8:a.prev=8,a.t0=a["catch"](1),s=a.t0.data,n("showToast",{title:"Error.",message:s},{root:!0});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()},updateShows:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.dispatch,t.prev=1,t.next=4,xn({method:"POST",url:"/shows/update"});case 4:t.sent,a("showToast",{title:"Shows Updated."},{root:!0}),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),n=t.t0.data,a("showToast",{title:"Error.",message:n},{root:!0});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},reset:function(e){var t=e.commit;t(yn)}},gr=(mn={},Object(En["a"])(mn,jn,(function(e,t){e.showsFound=t.map((function(e){var t=e.show;return Object(i["a"])(Object(i["a"])({},t),{},{image:t.image||{}})}))})),Object(En["a"])(mn,Rn,(function(e,t){e.showEpisodesTags=t})),Object(En["a"])(mn,yn,(function(e){e.showsFound=[]})),mn),fr={namespaced:!0,state:pr,getters:mr,mutations:gr,actions:hr},vr=a("2909"),wr={watching:[],currentPage:1,requesting:!1,totalPages:10,pageSize:8},br={},_r={getWatching:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.commit,r=e.dispatch,s=t.currentPage,!(wr.requesting||wr.totalPages<s&&s>1)){a.next=4;break}return a.abrupt("return");case 4:return a.prev=4,n(An,!0),a.next=8,xn({method:"GET",url:"/watchings",params:{currentPage:s}});case 8:if(o=a.sent,1!==s){a.next=12;break}return n(An,!1),a.abrupt("return",n(In,o.data));case 12:n(An,!1),n($n,o.data),a.next=21;break;case 16:a.prev=16,a.t0=a["catch"](4),i=a.t0.data,n(An,!1),r("showToast",{title:"Error",message:i.message},{root:!0});case 21:case"end":return a.stop()}}),a,null,[[4,16]])})))()},addToWatching:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i,c,u,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.dispatch,r=e.commit,s=t.showId,o=t.seasonId,i=t.episodeId,a.prev=2,a.next=5,xn({method:"POST",url:"/watchings",data:{showId:s,seasonId:o,episodeId:i}});case 5:c=a.sent,u=c.data,r(Mn,u.watching),n("showToast",{title:"Added To Watching",message:u.message},{root:!0}),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](2),l=a.t0.data,n("showToast",{title:"Error",message:l},{root:!0});case 15:case"end":return a.stop()}}),a,null,[[2,11]])})))()},deleteWatching:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.state,n=e.dispatch,r=e.commit,s=t.id,o=t.showTypeId,a.prev=2,a.next=5,xn({method:"DELETE",url:"/watchings/".concat(s),data:{showTypeId:o}});case 5:i=a.sent,c=i.data,r(Wn,s),n("showToast",{title:"Show Deleted",message:c.message},{root:!0}),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](2),u=a.t0.data,n("showToast",{title:"Error",message:u.message},{root:!0});case 15:case"end":return a.stop()}}),a,null,[[2,11]])})))()},getEpisodes:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=e.dispatch,s=t.watchingId,o=t.seasonId,a.prev=2,a.next=5,xn({method:"GET",url:"/episodes/".concat(o)});case 5:i=a.sent,c=i.data,n(Zn,{watchingId:s,seasonId:o,episodes:c}),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](2),u=a.t0.data,r("showToast",{title:"Error",message:u.message},{root:!0});case 14:case"end":return a.stop()}}),a,null,[[2,10]])})))()},toggleWatched:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=e.dispatch,s=t.watchingId,o=t.episode,a.prev=2,a.next=5,xn({method:"POST",url:"/watching/".concat(s,"/watched/").concat(o._id)});case 5:i=a.sent,c=i.data,n(Nn,{watchingId:s,data:c}),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](2),u=a.t0.data,r("showToast",{title:"Error",message:u.message},{root:!0});case 14:case"end":return a.stop()}}),a,null,[[2,10]])})))()},getEpisodeTags:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i,c,u,l,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.rootState,r=e.commit,s=e.dispatch,o=t.watchingId,i=t.episode,a.prev=2,c=n.lookups.episodeTags,a.next=6,xn({method:"GET",url:"/episode-tags/".concat(i._id,"/tag")});case 6:u=a.sent,l=u.data,r(Gn,{watchingId:o,data:l,episode:i,episodeTags:c}),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](2),d=a.t0.data,s("showToast",{title:"Error",message:d.message},{root:!0});case 15:case"end":return a.stop()}}),a,null,[[2,11]])})))()},toggleTag:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i,c,u,l,d,p;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.rootState,r=e.commit,s=e.dispatch,o=t.watchingId,i=t.tagId,c=t.episode,a.prev=2,u=n.lookups.episodeTags,a.next=6,xn({method:"POST",url:"/episode-tags/".concat(c._id,"/tag/").concat(i)});case 6:l=a.sent,d=l.data,r(Dn,{watchingId:o,data:d,episode:c,episodeTags:u}),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](2),p=a.t0.data,s("showToast",{title:"Error",message:p.message},{root:!0});case 15:case"end":return a.stop()}}),a,null,[[2,11]])})))()}},xr=(hn={},Object(En["a"])(hn,An,(function(e,t){e.requesting=t})),Object(En["a"])(hn,In,(function(e,t){var a=t.watching,n=t.currentPage,r=t.totalPages,s=t.pageSize;e.currentPage=n,e.totalPages=r,e.watching=a,e.pageSize=s})),Object(En["a"])(hn,$n,(function(e,t){var a=t.watching,n=t.currentPage,r=t.totalPages,s=t.pageSize;e.currentPage=n,e.totalPages=r,e.pageSize=s,e.watching=[].concat(Object(vr["a"])(e.watching),Object(vr["a"])(a))})),Object(En["a"])(hn,Mn,(function(e,t){e.watching=[].concat(Object(vr["a"])(e.watching),[t])})),Object(En["a"])(hn,Wn,(function(e,t){e.watching=e.watching.filter((function(e){return e._id!=t}))})),Object(En["a"])(hn,Zn,(function(e,t){var a=t.watchingId,n=t.seasonId,r=t.episodes,s=e.watching.find((function(e){return e._id==a})),o=s.episode,c=s.show,u=c.seasons.find((function(e){return e._id==n})),l=c.seasons.indexOf(u)+1,d=l<o.season.number,p=function(e){return l==o.season.number&&e.number<=o.number},m=r.map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{tags:[],watched:d||p(e)})}));e.watching.map((function(e){return e._id===a&&e.show.seasons.map((function(e){return e._id==n&&(e.episodes=m),e})),e}))})),Object(En["a"])(hn,Nn,(function(e,t){var a=t.watchingId,n=t.data,r=n.episode,s=n.behindCount,o=function(e){return e.number<=r.number};e.watching=e.watching.map((function(e){return e._id===a&&(e.behindCount=s,e.episode=r,e.show.seasons.map((function(e){return e._id===r.season._id?e.episodes.map((function(e){return e.watched=o(e),e})):e}))),e}))})),Object(En["a"])(hn,Dn,(function(e,t){var a=t.watchingId,n=t.episode,r=t.data,s=t.episodeTags;e.watching=e.watching.map((function(e){return e._id===a&&e.show.seasons.map((function(e){return e._id===n.season?e.episodes.map((function(e){return e._id===n._id&&(e.tags=s.map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{active:!!r.find((function(t){var a=t.id;return e.id==a}))})}))),e})):e})),e}))})),Object(En["a"])(hn,Gn,(function(e,t){var a=t.watchingId,n=t.episode,r=t.data,s=t.episodeTags;e.watching=e.watching.map((function(e){return e._id===a&&e.show.seasons.map((function(e){return e._id===n.season?e.episodes.map((function(e){return e._id===n._id&&(e.tags=s.map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{active:!!r.find((function(t){var a=t.id;return e.id==a}))})}))),e})):e})),e}))})),hn),Or={namespaced:!0,state:wr,getters:br,mutations:xr,actions:_r},Cr=(a("4e82"),{filter:{sort:"Collection"},currentPage:1,watchedShows:[],requesting:!1,totalPages:10,pageSize:15}),Sr={},kr={getWatchedShows:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.state,r=e.dispatch,s=e.commit,o=t.currentPage,!(n.requesting||n.totalPages<o&&o>1)){a.next=4;break}return a.abrupt("return");case 4:return a.prev=4,s(qn,!0),a.next=8,xn({method:"GET",url:"/watched-shows",params:{currentPage:o,showType:n.filter.sort}});case 8:if(i=a.sent,1!==o){a.next=12;break}return s(qn,!1),a.abrupt("return",s(Ln,i.data));case 12:s(qn,!1),s(Hn,i.data),a.next=21;break;case 16:a.prev=16,a.t0=a["catch"](4),c=a.t0.data,s(qn,!1),r("showToast",{title:"Error",message:c.message},{root:!0});case 21:case"end":return a.stop()}}),a,null,[[4,16]])})))()},deleteFromWatchedShows:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.dispatch,r=e.commit,s=t.showId,a.prev=2,a.next=5,xn({method:"DELETE",url:"/watched-shows/".concat(s)});case 5:o=a.sent,i=o.data,r(Fn,s),n("showToast",{title:"Deleted",message:i.message},{root:!0}),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](2),c=a.t0.data,n("showToast",{title:"Error",message:c.message},{root:!0});case 15:case"end":return a.stop()}}),a,null,[[2,11]])})))()},continueWatching:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.dispatch,r=t.showId,s=t.name,a.prev=2,a.next=5,xn({method:"POST",url:"/watched-shows/".concat(r,"/continue")});case 5:return n("showToast",{title:"Continue Watching",message:s},{root:!0}),a.abrupt("return",!0);case 9:return a.prev=9,a.t0=a["catch"](2),o=a.t0.data,n("showToast",{title:"Error",message:o},{root:!0}),a.abrupt("return",!1);case 14:case"end":return a.stop()}}),a,null,[[2,9]])})))()},rewatching:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.dispatch,r=t.showId,s=t.name,a.prev=2,a.next=5,xn({method:"POST",url:"/watched-shows/".concat(r,"/rewatch")});case 5:return n("showToast",{title:"Rewatching",message:s},{root:!0}),a.abrupt("return",!0);case 9:return a.prev=9,a.t0=a["catch"](2),o=a.t0.data,n("showToast",{title:"Error",message:o},{root:!0}),a.abrupt("return",!1);case 14:case"end":return a.stop()}}),a,null,[[2,9]])})))()}},Tr=(gn={},Object(En["a"])(gn,qn,(function(e,t){e.requesting=t})),Object(En["a"])(gn,Ln,(function(e,t){var a=t.watchedShows,n=t.currentPage,r=t.totalPages,s=t.pageSize;e.currentPage=n,e.totalPages=r,e.pageSize=s,e.watchedShows=a})),Object(En["a"])(gn,Hn,(function(e,t){var a=t.watchedShows,n=t.currentPage,r=t.totalPages,s=t.pageSize;e.currentPage=n,e.totalPages=r,e.pageSize=s,e.watchedShows=[].concat(Object(vr["a"])(e.watchedShows),Object(vr["a"])(a))})),Object(En["a"])(gn,Fn,(function(e,t){e.watchedShows=e.watchedShows.filter((function(e){return e.showId!=t}))})),gn),Er={namespaced:!0,state:Cr,getters:Sr,mutations:Tr,actions:kr},Pr={collection:[],currentPage:1,requesting:!1,totalPages:10,pageSize:15},jr={},Rr={getMovieCollection:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.state,r=e.commit,s=e.dispatch,o=t.currentPage,!(n.requesting||n.totalPages<o&&o>1)){a.next=4;break}return a.abrupt("return");case 4:return a.prev=4,r(Qn,!0),a.next=8,xn({method:"GET",url:"/movie-collections",params:{currentPage:o}});case 8:if(i=a.sent,1!==o){a.next=12;break}return r(Qn,!1),a.abrupt("return",r(Vn,i.data));case 12:if(0!=i.data.collection.length){a.next=14;break}return a.abrupt("return",r("updateState",{reachedEnd:!0}));case 14:r(Qn,!1),r(Yn,i.data),a.next=23;break;case 18:a.prev=18,a.t0=a["catch"](4),c=a.t0.data,r(Qn,!1),s("showToast",{title:"Error",message:c.message},{root:!0});case 23:case"end":return a.stop()}}),a,null,[[4,18]])})))()},saveToMovieCollectionMovie:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=e.dispatch,a.prev=1,s=t.Poster.substring(0,t.Poster.length-7),a.next=5,xn({method:"POST",url:"/movie-collections",data:Object(i["a"])(Object(i["a"])({},t),{},{Poster:s+"210.jpg",PosterXL:s+"720.jpg"})});case 5:o=a.sent,c=o.data,n(Kn,c.movie),r("showToast",{title:"Movie added.",message:c.message},{root:!0}),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](1),u=a.t0.data,r("showToast",{title:"Error",message:u.message},{root:!0});case 15:case"end":return a.stop()}}),a,null,[[1,11]])})))()},deleteFromMovieCollection:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=e.dispatch,a.prev=1,a.next=4,xn({method:"DELETE",url:"/movie-collections/".concat(t)});case 4:s=a.sent,o=s.data,n(Jn,t),r("showToast",{title:"Movie Deleted",message:o.message},{root:!0}),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](1),i=a.t0.data,r("showToast",{title:"Error",message:i.message},{root:!0});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))()}},yr=(fn={updateState:function(e,t){var a=t.prop,n=t.value;e=Object(i["a"])(Object(i["a"])({},e),{},Object(En["a"])({},a,n))}},Object(En["a"])(fn,Qn,(function(e,t){e.requesting=t})),Object(En["a"])(fn,Vn,(function(e,t){var a=t.collection,n=t.currentPage,r=t.totalPages,s=t.pageSize;e.currentPage=n,e.totalPages=r,e.collection=a,e.pageSize=s})),Object(En["a"])(fn,Yn,(function(e,t){var a=t.collection,n=t.currentPage,r=t.totalPages,s=t.pageSize;e.currentPage=n,e.totalPages=r,e.pageSize=s,e.collection=[].concat(Object(vr["a"])(e.collection),Object(vr["a"])(a))})),Object(En["a"])(fn,Kn,(function(e,t){e.collection=[].concat(Object(vr["a"])(e.collection),[t])})),Object(En["a"])(fn,Jn,(function(e,t){e.collection=e.collection.filter((function(e){return e._id!==t}))})),fn),Ir={namespaced:!0,state:Pr,getters:jr,mutations:yr,actions:Rr},$r=(a("ac1f"),a("1276"),{movieDetails:{},moviesFound:[]}),Mr={},Wr={movieGet:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,c,u,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.commit,r=e.dispatch,t){a.next=3;break}return a.abrupt("return");case 3:return a.prev=3,a.next=6,xn({method:"GET",url:"https://www.omdbapi.com",params:{apikey:"7174c422",plot:"full",t:t.split(",")[0],y:t.split(",")[1]}});case 6:if(s=a.sent,o=s.data,!o.Error){a.next=10;break}return a.abrupt("return",r("showToast",{title:"Not Found",message:"Movie could not be found."},{root:!0}));case 10:c=o.Poster,u=c.substring(0,c.length-7),n(zn,[Object(i["a"])(Object(i["a"])({},o),{},{Poster:u+"125.jpg"})]),a.next=19;break;case 15:a.prev=15,a.t0=a["catch"](3),l=a.t0.data,r("showToast",{title:"Error",message:l.message},{root:!0});case 19:case"end":return a.stop()}}),a,null,[[3,15]])})))()},reset:function(e){var t=e.commit;t(Bn)},movieDetailsGet:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.dispatch,r=e.commit,a.prev=1,a.next=4,xn({method:"GET",url:"/movies/".concat(t)});case 4:s=a.sent,o=s.data,r(Un,o),a.next=13;break;case 9:a.prev=9,a.t0=a["catch"](1),i=a.t0.data,n("showToast",{title:"Error",message:i.message},{root:!0});case 13:case"end":return a.stop()}}),a,null,[[1,9]])})))()}},Nr=(vn={},Object(En["a"])(vn,Un,(function(e,t){e.movieDetails=t})),Object(En["a"])(vn,zn,(function(e,t){e.moviesFound=t})),Object(En["a"])(vn,Bn,(function(e){e.moviesFound=[]})),vn),Dr={namespaced:!0,state:$r,getters:Mr,mutations:Nr,actions:Wr},Gr={seasons:[],episodes:[],episodeTags:[],showTypes:[]},Ar={},qr={getEpisodes:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=e.dispatch,a.prev=1,n("resetState","episodes"),a.next=5,xn({method:"GET",url:"/episodes/".concat(t)});case 5:s=a.sent,n(Zn,s.data),a.next=13;break;case 9:a.prev=9,a.t0=a["catch"](1),o=a.t0.data,r("showToast",{title:"Error",message:o.message},{root:!0});case 13:case"end":return a.stop()}}),a,null,[[1,9]])})))()},getEpisodeTags:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=e.dispatch,t.prev=1,t.next=4,xn({method:"GET",url:"/episode-tags"});case 4:r=t.sent,a(er,r.data),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),s=t.t0.data,n("showToast",{title:"Error",message:s.message},{root:!0});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},getShowTypes:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=e.dispatch,t.prev=1,t.next=4,xn({method:"GET",url:"/show-types"});case 4:r=t.sent,a(tr,r.data),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),s=t.t0.data,n("showToast",{title:"Error",message:s.message},{root:!0});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()}},Lr=(wn={},Object(En["a"])(wn,Xn,(function(e,t){e.seasons=t})),Object(En["a"])(wn,Zn,(function(e,t){e.episodes=t})),Object(En["a"])(wn,er,(function(e,t){e.episodeTags=t})),Object(En["a"])(wn,tr,(function(e,t){e.showTypes=t})),Object(En["a"])(wn,"resetState",(function(e,t){e[t]=[]})),wn),Hr={namespaced:!0,state:Gr,getters:Ar,mutations:Lr,actions:qr},Fr=(a("c740"),a("a434"),{toasts:[]}),zr={toasts:function(e){return e.toasts}},Br={showToast:function(e,t){var a=e.commit,n=(new Date).getTime();a(ar,Object(i["a"])(Object(i["a"])({},t),{},{timestamp:n})),setTimeout((function(){a(nr,n)}),4e3)},toastDismiss:function(e,t){var a=e.commit;a(nr,t)}},Ur=(bn={},Object(En["a"])(bn,ar,(function(e,t){e.toasts.push(Object(i["a"])(Object(i["a"])({},t),{},{show:!0}))})),Object(En["a"])(bn,nr,(function(e,t){var a=e.toasts.findIndex((function(e){return e.timestamp==t}));e.toasts.splice(a,1)})),bn),Vr={state:Fr,getters:zr,actions:Br,mutations:Ur};a("e9c4");function Yr(){return{token:!1,user:{}}}var Kr=Yr(),Jr={},Qr={initialiseStore:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.commit,n=localStorage.getItem("storage"),!n){t.next=5;break}return a(rr,JSON.parse(n)),t.abrupt("return",JSON.parse(n));case 5:return a(rr,Yr()),t.abrupt("return",Yr());case 7:case"end":return t.stop()}}),t)})))()},save:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=e.commit,r=t.prop,s=t.value,n(sr,{prop:r,value:s});case 3:case"end":return a.stop()}}),a)})))()},reset:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.commit,a(or);case 2:case"end":return t.stop()}}),t)})))()}},Xr=(_n={},Object(En["a"])(_n,rr,(function(e,t){e=Object.assign(e,t)})),Object(En["a"])(_n,sr,(function(e,t){var a=t.prop,n=t.value;e=Object.assign(e,Object(En["a"])({},a,n)),localStorage.setItem("storage",JSON.stringify(e))})),Object(En["a"])(_n,or,(function(e){e=Object.assign(e,Yr()),localStorage.setItem("storage",JSON.stringify({}))})),_n),Zr={namespaced:!0,state:Kr,getters:Jr,actions:Qr,mutations:Xr};n["a"].use(d["a"]);var es=new d["a"].Store({modules:{auth:Tn,mostPopular:dr,shows:fr,watching:Or,watchedShows:Er,movieCollection:Ir,movies:Dr,lookups:Hr,toast:Vr,storage:Zr}});n["a"].use($["a"]);var ts=new $["a"]({linkActiveClass:"active",routes:[{path:"/most-popular",name:"mostPopular",component:B},{path:"/login/:token?",name:"login",component:ne},{path:"/forgot-password",name:"forgotPassword",component:he},{path:"/change-password/:resetToken",name:"changePassword",component:_e},{path:"/watching",name:"watching",component:_a,meta:{requiresAuth:!0}},{path:"/watched-shows",name:"watchedShows",component:Ga,meta:{requiresAuth:!0}},{path:"/movie-collection",name:"movieCollection",component:an,meta:{requiresAuth:!0}},{path:"/movie-details/:movieId",name:"movieDetails",component:un,meta:{requiresAuth:!0}},{path:"/",redirect:"/most-popular"}],scrollBehavior:function(){return{x:0,y:0}}});ts.beforeEach(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,a,n){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,es.dispatch("storage/initialiseStore");case 2:if(r=e.sent,s=r.token,t.matched.some((function(e){return e.meta.requiresAuth}))&&(s||"login"==t.name||es.dispatch("auth/signUserOut")),"login"!=t.name||!s){e.next=7;break}return e.abrupt("return",n({path:"/watching"}));case 7:n();case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}());var as=ts;n["a"].config.productionTip=!1,n["a"].use(r,{prefix:"uiv"}),new n["a"]({store:es,el:"#app",router:as,render:function(e){return e(I)},components:{App:I}}).$mount("#app")},"570c":function(e,t,a){"use strict";a("3f43")},"59db":function(e,t,a){"use strict";a("5a42")},"5a42":function(e,t,a){},"5bdb":function(e,t,a){},"5e96":function(e,t,a){"use strict";a("2253")},"5f8e":function(e,t,a){"use strict";a("cd37")},6794:function(e,t,a){"use strict";a("c93c")},"70ac":function(e,t,a){},7999:function(e,t,a){"use strict";a("efa4")},"79f7":function(e,t,a){"use strict";a("def2")},"7f25":function(e,t,a){"use strict";a("3bae")},8160:function(e,t,a){"use strict";a("24f3")},8716:function(e,t,a){},"8b5b":function(e,t,a){"use strict";a("1270")},"8d3b":function(e,t,a){"use strict";a("4c22")},"94c0":function(e,t,a){"use strict";a("eb00")},9906:function(e,t,a){"use strict";a("992d")},"992d":function(e,t,a){},a6dd:function(e,t,a){"use strict";a("2418")},aaed:function(e,t,a){},b311:function(e,t,a){"use strict";a("8716")},bd28:function(e,t,a){},c560:function(e,t,a){"use strict";a("ccb9")},c707:function(e,t,a){"use strict";a("4ec7")},c816:function(e,t,a){},c93c:function(e,t,a){},ccb9:function(e,t,a){},cd03:function(e,t,a){"use strict";a("e36d")},cd37:function(e,t,a){},d741:function(e,t,a){"use strict";a("550e")},d796:function(e,t,a){},def2:function(e,t,a){},e36d:function(e,t,a){},e67d:function(e,t,a){"use strict";a("5bdb")},eb00:function(e,t,a){},ed2f:function(e,t,a){"use strict";a("0259")},efa4:function(e,t,a){},f5ee:function(e,t,a){},f82b:function(e,t,a){"use strict";a("41ad")}});
//# sourceMappingURL=app.e78edb72.js.map